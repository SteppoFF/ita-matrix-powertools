var mptUserSettings=new Object;mptUserSettings.timeformat="12h",mptUserSettings.language="en",mptUserSettings.linkFontsize=100,mptUserSettings.enableDeviders=1,mptUserSettings.enableInlineMode=0,mptUserSettings.enableEditormode=0,mptUserSettings.enableIMGautoload=0,mptUserSettings.enableFarerules=1,mptUserSettings.enablePricebreakdown=1,mptUserSettings.enableMilesbreakdown=1,mptUserSettings.enableMilesbreakdownautoload=0,mptUserSettings.enableMilesInlinemode=0,mptUserSettings.enablePlanefinder=1,mptUserSettings.enableSeatguru=1,mptUserSettings.enableWheretocredit=1,mptUserSettings.acEdition="us",mptUserSettings.aaEdition="en_DE",mptUserSettings.aac1Edition="US",mptUserSettings.afEdition="US/en",mptUserSettings.azEdition="us_en",mptUserSettings.baLanguage="en",mptUserSettings.baEdition="US",mptUserSettings.czEdition="US-GB",mptUserSettings.dlEdition="www_us",mptUserSettings.ibEdition="en-US",mptUserSettings.klEdition="us_en",mptUserSettings.laEdition="en/us",mptUserSettings.lhEdition="US-gb",mptUserSettings.lxEdition="us_en",mptUserSettings.qfEdition="EN_US",mptUserSettings.aac1Currency="1",mptUserSettings.ibCurrency="USD",mptUserSettings.laCurrency="USD",mptUserSettings.qfCurrency="USD";var mptSettings=new Object;mptSettings.itaLanguage="en",mptSettings.version="0.35",mptSettings.retrycount=1,mptSettings.laststatus="",mptSettings.scriptrunning=1,mptSettings.cabin="Auto";var acEditions=["us","ca","ar","au","ch","cl","cn","co","de","dk","es","fr","gb","hk","ie","il","it","jp","mx","nl","no","pa","pe","se"],aaEditions=[{value:"en_AU",name:"Australia"},{value:"en_BE",name:"Belgium"},{value:"en_CN",name:"China"},{value:"en_DK",name:"Denmark"},{value:"en_FI",name:"Finland"},{value:"en_FR",name:"France / English"},{value:"fr_FR",name:"France / French"},{value:"en_DE",name:"Germany / English"},{value:"de_DE",name:"Germany / Deutsch"},{value:"en_GR",name:"Greece"},{value:"en_HK",name:"Hong Kong"},{value:"en_IN",name:"India"},{value:"en_IE",name:"Ireland"},{value:"en_IL",name:"Israel"},{value:"en_IT",name:"Italy"},{value:"en_JP",name:"Japan"},{value:"en_KR",name:"Korea"},{value:"en_NL",name:"Netherlands"},{value:"en_NZ",name:"New Zealand"},{value:"en_NO",name:"Norway"},{value:"en_PT",name:"Portugal"},{value:"en_RU",name:"Russia"},{value:"en_ES",name:"Spain / English"},{value:"es_ES",name:"Spain / Spanish"},{value:"en_SE",name:"Sweden"},{value:"en_CH",name:"Switzerland"}],aac1Editions=[{value:"CA",name:"Canada"},{value:"US",name:"United States"},{value:"GB",name:"United Kingdom"}],aac1Currencies=[{value:"1",name:"USD"},{value:"2",name:"GBP"},{value:"4",name:"CAD"}],afEditions=[{value:"DE/de",name:"Germany / Deutsch"},{value:"DE/en",name:"Germany / English"},{value:"FR/en",name:"France / English"},{value:"FI/en",name:"Finland / English"},{value:"FR/fr",name:"France / French"},{value:"NL/en",name:"Netherlands / English"},{value:"GB/en",name:"United Kingdom / English"},{value:"US/en",name:"US / English"}],azEditions=[{value:"de_de",name:"Germany / Deutsch"},{value:"at_de",name:"Austria / Deutsch"},{value:"ch_de",name:"Switzerland / Deutsch"},{value:"fr_fr",name:"France / French"},{value:"nl_nl",name:"Netherlands / Dutch"},{value:"it_it",name:"Italy / Italian"},{value:"ca_en",name:"Canada / Englisch"},{value:"us_en",name:"US / Englisch"},{value:"gb_en",name:"GB / Englisch"},{value:"en_en",name:"International / Englisch"}],baLanguages=[{value:"de",name:"Deutsch"},{value:"en",name:"English"},{value:"es",name:"Español"},{value:"fr",name:"Français"},{value:"it",name:"Italiano"},{value:"pl",name:"Polski"},{value:"pt",name:"Português"},{value:"sv",name:"Svenska"},{value:"zh",name:"中文"},{value:"ja",name:"日本語"},{value:"ru",name:"Русский"},{value:"ko",name:"한국어"}],baEditions=[{value:"AF",name:"Afghanistan"},{value:"AL",name:"Albania"},{value:"DZ",name:"Algeria"},{value:"AS",name:"American Samoa"},{value:"AD",name:"Andorra"},{value:"AO",name:"Angola"},{value:"AI",name:"Anguilla"},{value:"AG",name:"Antigua"},{value:"AR",name:"Argentina"},{value:"AM",name:"Armenia"},{value:"AW",name:"Aruba"},{value:"AU",name:"Australia"},{value:"AT",name:"Austria"},{value:"AZ",name:"Azerbaijan"},{value:"BS",name:"Bahamas"},{value:"BH",name:"Bahrain"},{value:"BD",name:"Bangladesh"},{value:"BB",name:"Barbados"},{value:"BY",name:"Belarus"},{value:"BE",name:"Belgium"},{value:"BZ",name:"Belize"},{value:"BJ",name:"Benin Republic"},{value:"BM",name:"Bermuda"},{value:"BT",name:"Bhutan"},{value:"BO",name:"Bolivia"},{value:"BA",name:"Bosnia-Herzegovina"},{value:"BW",name:"Botswana"},{value:"BR",name:"Brazil"},{value:"VG",name:"British Virgin Islands"},{value:"BN",name:"Brunei"},{value:"BG",name:"Bulgaria"},{value:"BF",name:"Burkina Faso"},{value:"BI",name:"Burundi"},{value:"KH",name:"Cambodia"},{value:"CA",name:"Canada"},{value:"CV",name:"Cape Verde"},{value:"KY",name:"Cayman Islands"},{value:"CF",name:"Central African Rep"},{value:"TD",name:"Chad"},{value:"CL",name:"Chile"},{value:"CN",name:"China"},{value:"CX",name:"Christmas Island"},{value:"CC",name:"Cocos Islands"},{value:"CO",name:"Colombia"},{value:"CG",name:"Congo"},{value:"CK",name:"Cook Islands"},{value:"CR",name:"Costa Rica"},{value:"HR",name:"Croatia"},{value:"CU",name:"Cuba"},{value:"CY",name:"Cyprus"},{value:"CZ",name:"Czech Republic"},{value:"DK",name:"Denmark"},{value:"DJ",name:"Djibouti"},{value:"DM",name:"Dominica"},{value:"DO",name:"Dominican Rep"},{value:"EC",name:"Ecuador"},{value:"EG",name:"Egypt"},{value:"SV",name:"El Salvador"},{value:"GQ",name:"Equatorial Guinea"},{value:"ER",name:"Eritrea"},{value:"EE",name:"Estonia"},{value:"ET",name:"Ethiopia"},{value:"FO",name:"Faeroe Is"},{value:"FK",name:"Falkland Is"},{value:"FJ",name:"Fiji"},{value:"FI",name:"Finland"},{value:"FR",name:"France"},{value:"GF",name:"French Guyana"},{value:"PF",name:"French Polynesia"},{value:"GA",name:"Gabon"},{value:"GM",name:"Gambia"},{value:"GE",name:"Georgia"},{value:"DE",name:"Germany"},{value:"GH",name:"Ghana"},{value:"GI",name:"Gibraltar (UK)"},{value:"GR",name:"Greece"},{value:"GL",name:"Greenland"},{value:"GD",name:"Grenada"},{value:"GP",name:"Guadeloupe"},{value:"GU",name:"Guam"},{value:"GT",name:"Guatemala"},{value:"GN",name:"Guinea"},{value:"GW",name:"Guinea Bissau"},{value:"GY",name:"Guyana"},{value:"HT",name:"Haiti"},{value:"HN",name:"Honduras"},{value:"HK",name:"Hong Kong"},{value:"HU",name:"Hungary"},{value:"IS",name:"Iceland"},{value:"IN",name:"India"},{value:"ID",name:"Indonesia"},{value:"IR",name:"Iran"},{value:"IQ",name:"Iraq"},{value:"IE",name:"Ireland"},{value:"IL",name:"Israel"},{value:"IT",name:"Italy"},{value:"CI",name:"Ivory Coast"},{value:"JM",name:"Jamaica"},{value:"JP",name:"Japan"},{value:"JO",name:"Jordan"},{value:"KZ",name:"Kazakhstan"},{value:"KE",name:"Kenya"},{value:"KI",name:"Kiribati"},{value:"XK",name:"Kosovo"},{value:"KW",name:"Kuwait"},{value:"KG",name:"Kyrgyzstan"},{value:"LA",name:"Laos"},{value:"LV",name:"Latvia"},{value:"LB",name:"Lebanon"},{value:"LS",name:"Lesotho"},{value:"LR",name:"Liberia"},{value:"LY",name:"Libya"},{value:"LI",name:"Liechtenstein"},{value:"LT",name:"Lithuania"},{value:"LU",name:"Luxembourg"},{value:"MO",name:"Macau"},{value:"MK",name:"Macedonia"},{value:"MG",name:"Madagascar"},{value:"MW",name:"Malawi"},{value:"MY",name:"Malaysia"},{value:"MV",name:"Maldives"},{value:"ML",name:"Mali"},{value:"MT",name:"Malta"},{value:"MP",name:"Mariana Islands"},{value:"MH",name:"Marshall Islands"},{value:"MQ",name:"Martinique"},{value:"MR",name:"Mauritania"},{value:"MU",name:"Mauritius"},{value:"MX",name:"Mexico"},{value:"FM",name:"Micronesia"},{value:"UM",name:"Minor Island"},{value:"MD",name:"Moldova"},{value:"MC",name:"Monaco"},{value:"ME",name:"Montenegro"},{value:"MS",name:"Montserrat"},{value:"MA",name:"Morocco"},{value:"MZ",name:"Mozambique"},{value:"MM",name:"Myanmar"},{value:"NA",name:"Namibia"},{value:"NR",name:"Nauru"},{value:"NP",name:"Nepal"},{value:"AN",name:"Netherland Antilles"},{value:"NL",name:"Netherlands"},{value:"NC",name:"New Caledonia"},{value:"NZ",name:"New Zealand"},{value:"NI",name:"Nicaragua"},{value:"NE",name:"Niger"},{value:"NG",name:"Nigeria"},{value:"NU",name:"Niue"},{value:"NF",name:"Norfolk Island"},{value:"NO",name:"Norway"},{value:"OM",name:"Oman"},{value:"PK",name:"Pakistan"},{value:"PA",name:"Panama"},{value:"PG",name:"Papua New Guinea"},{value:"PY",name:"Paraguay"},{value:"KP",name:"Peoples Rep Korea"},{value:"PE",name:"Peru"},{value:"PH",name:"Philippines"},{value:"PL",name:"Poland"},{value:"PT",name:"Portugal"},{value:"PR",name:"Puerto Rico"},{value:"QA",name:"Qatar"},{value:"CM",name:"Republic Cameroon"},{value:"RE",name:"Reunion"},{value:"RO",name:"Romania"},{value:"RU",name:"Russia"},{value:"RW",name:"Rwanda"},{value:"SM",name:"San Marino"},{value:"SA",name:"Saudi Arabia"},{value:"SN",name:"Senegal"},{value:"RS",name:"Serbia"},{value:"SC",name:"Seychelles"},{value:"SL",name:"Sierra Leone"},{value:"SG",name:"Singapore"},{value:"SK",name:"Slovakia"},{value:"SI",name:"Slovenia"},{value:"SB",name:"Solomon Island"},{value:"SO",name:"Somalia"},{value:"ZA",name:"South Africa"},{value:"KR",name:"South Korea"},{value:"ES",name:"Spain"},{value:"LK",name:"Sri Lanka"},{value:"KN",name:"St Kitts and Nevis"},{value:"LC",name:"St Lucia"},{value:"VC",name:"St Vincent"},{value:"SD",name:"Sudan"},{value:"SR",name:"Suriname"},{value:"SZ",name:"Swaziland"},{value:"SE",name:"Sweden"},{value:"CH",name:"Switzerland"},{value:"SY",name:"Syria"},{value:"TW",name:"Taiwan"},{value:"TJ",name:"Tajikistan"},{value:"TZ",name:"Tanzania"},{value:"TH",name:"Thailand"},{value:"TL",name:"Timor - Leste"},{value:"TG",name:"Togo"},{value:"TO",name:"Tonga"},{value:"TT",name:"Trinidad and Tobago"},{value:"TN",name:"Tunisia"},{value:"TR",name:"Turkey"},{value:"TM",name:"Turkmenistan"},{value:"TC",name:"Turks Caicos"},{value:"TV",name:"Tuvalu"},{value:"VI",name:"US Virgin Islands"},{value:"US",name:"USA"},{value:"UG",name:"Uganda"},{value:"UA",name:"Ukraine"},{value:"AE",name:"United Arab Emirates"},{value:"GB",name:"United Kingdom"},{value:"UY",name:"Uruguay"},{value:"UZ",name:"Uzbekistan"},{value:"VU",name:"Vanuatu"},{value:"VE",name:"Venezuela"},{value:"VN",name:"Vietnam"},{value:"WS",name:"Western Samoa"},{value:"YE",name:"Yemen Republic"},{value:"ZM",name:"Zambia"},{value:"ZW",name:"Zimbabwe"}],czEditions=[{value:"AR-GB",name:"Argentina / English"},{value:"AU-GB",name:"Australia / English"},{value:"AZ-GB",name:"Azerbaijan / English"},{value:"BD-GB",name:"Bangladesh / English"},{value:"BE-GB",name:"Belgium / English"},{value:"BR-GB",name:"Brazil / English"},{value:"KH-GB",name:"Cambodia / English"},{value:"CA-GB",name:"Canada / English"},{value:"CA-FR",name:"Canada / French"},{value:"CN-GB",name:"China / English"},{value:"DK-GB",name:"Denmark / English"},{value:"FI-GB",name:"Finland / English"},{value:"FR-GB",name:"France / English"},{value:"FR-FR",name:"France / French"},{value:"GE-GB",name:"Georgia / English"},{value:"DE-GB",name:"Germany / English"},{value:"DE-DE",name:"Germany / German"},{value:"GR-GB",name:"Greece / English"},{value:"HK-GB",name:"Hong Kong / English"},{value:"IN-GB",name:"India / English"},{value:"ID-GB",name:"Indonesia / English"},{value:"IR-GB",name:"Iran / English"},{value:"IE-GB",name:"Ireland / English"},{value:"IT-GB",name:"Italy / English"},{value:"JP-GB",name:"Japan / English"},{value:"JO-GB",name:"Jordan / English"},{value:"KZ-GB",name:"Kazakhstan / English"},{value:"KE-GB",name:"Kenya / English"},{value:"KG-GB",name:"Kyrgyzstan / English"},{value:"MY-GB",name:"Malaysia / English"},{value:"MV-GB",name:"Maldives / English"},{value:"MO-GB",name:"Macau / English"},{value:"MM-GB",name:"Myanmar / English"},{value:"NP-GB",name:"Nepal / English"},{value:"NL-GB",name:"Netherlands / English"},{value:"NZ-GB",name:"New Zealand / English"},{value:"NO-GB",name:"Norway / English"},{value:"PK-GB",name:"Pakistan / English"},{value:"PA-GB",name:"Panama / English"},{value:"PE-GB",name:"Peru / English"},{value:"PH-GB",name:"Philippines / English"},{value:"PT-GB",name:"Portugal / English"},{value:"RU-GB",name:"Russia / English"},{value:"SA-GB",name:"Saudi Arabia / English"},{value:"SG-GB",name:"Singapore / English"},{value:"ZA-GB",name:"South Africa / English"},{value:"KR-GB",name:"South Korea / English"},{value:"ES-GB",name:"Spain / English"},{value:"SE-GB",name:"Sweden / English"},{value:"CH-GB",name:"Switzerland / English"},{value:"TW-GB",name:"Taiwan / English"},{value:"TJ-GB",name:"Tajikistan / English"},{value:"TZ-GB",name:"Tanzania / English"},{value:"TH-GB",name:"Thailand / English"},{value:"TR-GB",name:"Turkey / English"},{value:"TM-GB",name:"Turkmenistan / English"},{value:"UA-GB",name:"Ukraine / English"},{value:"GB-GB",name:"United Kingdom / English"},{value:"AE-GB",name:"United Arab Emirates / English"},{value:"UG-GB",name:"Uganda / English"},{value:"US-GB",name:"United  States / English"},{value:"UZ-GB",name:"Uzbekistan / English"},{value:"VE-GB",name:"Venezuela / English"},{value:"VN-GB",name:"Vietnam / English"}],dlEditions=[{value:"de_de",name:"Germany"},{value:"www_us",name:"US"}],ibEditions=[{value:"es-AO",name:"Angola - Español"},{value:"pt-AO",name:"Angola - Português"},{value:"es-DZ",name:"Argelia - Español"},{value:"fr-DZ",name:"Algérie - Français"},{value:"en-AR",name:"Argentina - English"},{value:"es-AR",name:"Argentina - Español"},{value:"en-BE",name:"Belgium - English"},{value:"es-BE",name:"Bélgica - Español"},{value:"fr-BE",name:"Belgique - Français"},{value:"es-BR",name:"Brasil - Español"},{value:"pt-BR",name:"Brasil - Português"},{value:"en-CL",name:"Chile - English"},{value:"es-CL",name:"Chile - Español"},{value:"en-CO",name:"Colombia - English"},{value:"es-CO",name:"Colombia - Español"},{value:"en-CR",name:"Costa Rica - English"},{value:"es-CR",name:"Costa Rica - Español"},{value:"en-HR",name:"Croatia - English"},{value:"es-HR",name:"Croacia - Español"},{value:"it-HR",name:"Croazia - Italiano"},{value:"en-CU",name:"Cuba - English"},{value:"es-CU",name:"Cuba - Español"},{value:"en-CZ",name:"Czech Republic - English"},{value:"es-CZ",name:"República Checa - Español"},{value:"en-DK",name:"Denmark - English"},{value:"es-DK",name:"Dinamarca - Español"},{value:"de-DE",name:"Deutschland - Deutsch"},{value:"es-DE",name:"Alemania - Español"},{value:"en-DO",name:"Dominican Republic - English"},{value:"es-DO",name:"República Dominicana - Español"},{value:"en-EC",name:"Ecuador - English"},{value:"es-EC",name:"Ecuador - Español"},{value:"en-SV",name:"El Salvador - English"},{value:"es-SV",name:"El Salvador - Español"},{value:"en-GQ",name:"Equatorial Guinea - English"},{value:"es-GQ",name:"Guinea Ecuatorial - Español"},{value:"ca-ES",name:"Espanya - Català"},{value:"en-ES",name:"Spain - English"},{value:"es-ES",name:"España - Español"},{value:"es-FR",name:"Francia - Español"},{value:"fr-FR",name:"France - Français"},{value:"en-GH",name:"Ghana - English"},{value:"es-GH",name:"Ghana - Español"},{value:"en-GR",name:"Greece - English"},{value:"es-GR",name:"Grecia - Español"},{value:"en-GT",name:"Guatemala - English"},{value:"es-GT",name:"Guatemala - Español"},{value:"en-HN",name:"Honduras - English"},{value:"es-HN",name:"Honduras - Español"},{value:"en-IE",name:"Ireland - English"},{value:"es-IE",name:"Irlanda - Español"},{value:"en-IL",name:"Israel - English"},{value:"es-IL",name:"Israel - Español"},{value:"en-IT",name:"Italy - English"},{value:"es-IT",name:"Italia - Español"},{value:"it-IT",name:"Italia - Italiano"},{value:"en-JP",name:"Japan - English"},{value:"es-JP",name:"Japón - Español"},{value:"ja-JP",name:"日本 - 日本語"},{value:"en-MT",name:"Malta - English"},{value:"es-MT",name:"Malta - Español"},{value:"it-MT",name:"Malta - Italiano"},{value:"es-MA",name:"Marruecos - Español"},{value:"fr-MA",name:"Maroc - Français"},{value:"es-MR",name:"Mauritania - Español"},{value:"fr-MR",name:"Mauritanie - Français"},{value:"en-MX",name:"Mexico - English"},{value:"es-MX",name:"México - Español"},{value:"en-NL",name:"Netherlands - English"},{value:"es-NL",name:"Holanda - Español"},{value:"nl-NL",name:"Nederland - Nederlands"},{value:"en-NI",name:"Nicaragua - English"},{value:"es-NI",name:"Nicaragua - Español"},{value:"en-NG",name:"Nigeria - English"},{value:"es-NG",name:"Nigeria - Español"},{value:"en-PA",name:"Panama - English"},{value:"es-PA",name:"Panamá - Español"},{value:"en-PE",name:"Peru - English"},{value:"es-PE",name:"Perú - Español"},{value:"es-PT",name:"Portugal - Español"},{value:"pt-PT",name:"Portugal - Português"},{value:"en-PR",name:"Puerto Rico - English"},{value:"es-PR",name:"Puerto Rico - Español"},{value:"en-RU",name:"Russian Federation - English"},{value:"es-RU",name:"Rusia - Español"},{value:"ru-RU",name:"Rossiya - Русский"},{value:"de-CH",name:"Schweiz - Deutsch"},{value:"es-CH",name:"Suiza - Español"},{value:"fr-CH",name:"Suisse - Français"},{value:"es-SN",name:"Senegal - Español"},{value:"fr-SN",name:"Sénégal - Français"},{value:"en-ZA",name:"South Africa - English"},{value:"es-ZA",name:"Sudáfrica - Español"},{value:"en-SE",name:"Sweden - English"},{value:"es-SE",name:"Suecia - Español"},{value:"en-TR",name:"Turkey - English"},{value:"es-TR",name:"Turquía - Español"},{value:"en-US",name:"USA - English"},{value:"es-US",name:"USA - Español"},{value:"en-GB",name:"United Kingdom - English"},{value:"es-GB",name:"Reino Unido - Español"},{value:"en-UY",name:"Uruguay - English"},{value:"es-UY",name:"Uruguay - Español"},{value:"en-VE",name:"Venezuela - English"},{value:"es-VE",name:"Venezuela - Español"}],ibCurrencies=[{value:"EUR",name:"EUR"},{value:"GBP",name:"GBP"},{value:"USD",name:"USD"}],klEditions=[{value:"de_de",name:"Germany / Deutsch"},{value:"de_en",name:"Germany / English"},{value:"fr_en",name:"France / English"},{value:"fr_fr",name:"France / French"},{value:"nl_en",name:"Netherlands / English"},{value:"gb_en",name:"United Kingdom / English"},{value:"us_en",name:"US / English"}],laEditions=[{value:"es/ar",name:"Argentina / Spanish"},{value:"pt/br",name:"Brasil / Portuguese"},{value:"es/cl",name:"Chile / Spanish"},{value:"es/co",name:"Colombia / Spanish"},{value:"es/ec",name:"Ecuador / Spanish"},{value:"es/pe",name:"Peru / Spanish"},{value:"es/uy",name:"Uruguay / Spanish"},{value:"en/us",name:"US / English"},{value:"es/mx",name:"Mexico / Spanish"},{value:"en/ca",name:"Canada / English"},{value:"de/de",name:"Germany / German"},{value:"es/es",name:"Spain / Spanish"},{value:"fr/fr",name:"France / French"},{value:"en/it",name:"Italy / English"},{value:"en/uk",name:"UK / English"},{value:"en/ue",name:"Rest of Europe / English"},{value:"en/au",name:"Australia / English"},{value:"en/nz",name:"New Zealand / English"},{value:"es/un",name:"Other Countries / Spanish"},{value:"en/un",name:"Other Countries / English"}],laCurrencies=[{value:"USD",name:"USD"},{value:"GBP",name:"GBP"},{value:"EUR",name:"Euro"}],lhEditions=[{value:"AL-gb",name:"Albania / English"},{value:"DZ-fr",name:"Algeria / Français"},{value:"AO-gb",name:"Angola / English"},{value:"AR-es",name:"Argentina / Español"},{value:"AM-gb",name:"Armenia / English"},{value:"AU-gb",name:"Australia / English"},{value:"AT-de",name:"Austria / Deutsch"},{value:"AT-gb",name:"Austria / English"},{value:"AZ-gb",name:"Azerbaijan / English"},{value:"BH-gb",name:"Bahrain / English"},{value:"BY-gb",name:"Belarus / English"},{value:"BE-gb",name:"Belgium / English"},{value:"BA-gb",name:"Bosnia/Hercegovina / English"},{value:"BR-pt",name:"Brazil / Português"},{value:"BG-gb",name:"Bulgaria / English"},{value:"CA-gb",name:"Canada / English"},{value:"CA-fr",name:"Canada / Français"},{value:"CL-es",name:"Chile / Español"},{value:"CN-gb",name:"China / English"},{value:"CO-es",name:"Colombia / Español"},{value:"HR-gb",name:"Croatia / English"},{value:"CY-gb",name:"Cyprus / English"},{value:"CZ-gb",name:"Czech Republic / English"},{value:"DK-gb",name:"Denmark / English"},{value:"EG-gb",name:"Egypt / English"},{value:"GQ-gb",name:"Equatorial Guinea / English"},{value:"ER-gb",name:"Eritrea / English"},{value:"EE-gb",name:"Estonia / English"},{value:"ET-gb",name:"Ethiopia / English"},{value:"FI-gb",name:"Finland / English"},{value:"FR-gb",name:"France / English"},{value:"FR-fr",name:"France / Français"},{value:"GA-gb",name:"Gabon / English"},{value:"GE-gb",name:"Georgia / English"},{value:"DE-de",name:"Germany / Deutsch"},{value:"DE-gb",name:"Germany / English"},{value:"GH-gb",name:"Ghana / English"},{value:"GR-gb",name:"Greece / English"},{value:"HK-gb",name:"Hong Kong / English"},{value:"HU-gb",name:"Hungary / English"},{value:"IS-gb",name:"Iceland / English"},{value:"IN-gb",name:"India / English"},{value:"ID-gb",name:"Indonesia / English"},{value:"IR-gb",name:"Iran / English"},{value:"IQ-gb",name:"Iraq / English"},{value:"IE-gb",name:"Ireland / English"},{value:"IL-gb",name:"Israel / English"},{value:"IT-it",name:"Italy / Italiano"},{value:"IT-gb",name:"Italy / English"},{value:"JP-gb",name:"Japan / English"},{value:"JO-gb",name:"Jordan / English"},{value:"KZ-gb",name:"Kazakhstan / English"},{value:"KE-gb",name:"Kenya / English"},{value:"KR-gb",name:"Republic of Korea / English"},{value:"KW-gb",name:"Kuwait / English"},{value:"LV-gb",name:"Latvia / English"},{value:"LB-gb",name:"Lebanon / English"},{value:"LY-gb",name:"Libya / English"},{value:"LT-gb",name:"Lithuania / English"},{value:"LU-gb",name:"Luxembourg / English"},{value:"MY-gb",name:"Malaysia / English"},{value:"MV-gb",name:"Maldives / English"},{value:"MT-gb",name:"Malta / English"},{value:"MU-gb",name:"Mauritius / English"},{value:"MX-es",name:"Mexico / Español"},{value:"MD-gb",name:"Moldova / English"},{value:"MA-fr",name:"Morocco / Français"},{value:"NL-gb",name:"Netherlands / English"},{value:"NZ-gb",name:"New Zealand / English"},{value:"NG-gb",name:"Nigeria / English"},{value:"NO-gb",name:"Norway / English"},{value:"OM-gb",name:"Oman / English"},{value:"PK-gb",name:"Pakistan / English"},{value:"PA-es",name:"Panama / Español"},{value:"PH-gb",name:"Philippines / English"},{value:"PL-gb",name:"Poland / English"},{value:"PL-pl",name:"Poland / Polski"},{value:"PT-gb",name:"Portugal / English"},{value:"PT-pt",name:"Portugal / Português"},{value:"QA-gb",name:"Qatar / English"},{value:"CD-gb",name:"Republic of the Congo / English"},{value:"RO-gb",name:"Romania / English"},{value:"RU-gb",name:"Russia / English"},{value:"RU-ru",name:"Russia / Русский"},{value:"SA-gb",name:"Saudi Arabia / English"},{value:"RS-gb",name:"Serbia / English"},{value:"SG-gb",name:"Singapore / English"},{value:"SK-gb",name:"Slovakia / English"},{value:"SI-gb",name:"Slovenia / English"},{value:"ZA-gb",name:"South Africa / English"},{value:"ES-gb",name:"Spain / English"},{value:"ES-es",name:"Spain / Español"},{value:"SD-gb",name:"Sudan / English"},{value:"SE-gb",name:"Sweden / English"},{value:"CH-de",name:"Switzerland / Deutsch"},{value:"CH-gb",name:"Switzerland / English"},{value:"CH-fr",name:"Switzerland / Français"},{value:"TW-gb",name:"Taiwan / English "},{value:"TH-gb",name:"Thailand / English"},{value:"TN-fr",name:"Tunisia / Français"},{value:"TR-gb",name:"Turkey / English"},{value:"TM-gb",name:"Turkmenistan / English"},{value:"UA-gb",name:"Ukraine / English"},{value:"AE-gb",name:"United Arab Emirates / English"},{value:"UK-gb",name:"United Kingdom / English"},{value:"US-gb",name:"United States / English"},{value:"VE-es",name:"Venezuela / Español"},{value:"VN-gb",name:"Vietnam / English"},{value:"XX-gb",name:"Other countries / English"}],lxEditions=[{value:"de_de",name:"Germany"},{value:"us_en",name:"US"}],qfCurrencies=[{value:"AUD",name:"AUD"},{value:"NZD",name:"NZD"},{value:"USD",name:"USD"}],qfEditions=[{value:"EN_AU",name:"Australia"},{value:"EN_NZ",name:"New Zealand"},{value:"EN_US",name:"United States"}],classSettings=new Object;classSettings.startpage=new Object,classSettings.startpage.maindiv="IR6M2QD-w-d",classSettings.resultpage=new Object,classSettings.resultpage.itin="IR6M2QD-v-d",classSettings.resultpage.itinRow="IR6M2QD-j-i",classSettings.resultpage.milagecontainer="IR6M2QD-v-e",classSettings.resultpage.rulescontainer="IR6M2QD-k-d",classSettings.resultpage.htbContainer="IR6M2QD-k-k",classSettings.resultpage.htbLeft="IR6M2QD-k-g",classSettings.resultpage.htbRight="IR6M2QD-k-f",classSettings.resultpage.htbGreyBorder="IR6M2QD-k-l",classSettings.resultpage.mcDiv="IR6M2QD-y-d",classSettings.resultpage.mcHeader="IR6M2QD-y-b",classSettings.resultpage.mcLinkList="IR6M2QD-y-c";var matrixCurrencies=[{p:/US\$/,c:"USD"},{p:/\€/,c:"EUR"},{p:/\£/,c:"GBP"},{p:/CA\$/,c:"CAD"},{p:/RS\./,c:"INR"}],translations=new Object;translations.de=new Object,translations.de.use="&Ouml;ffne ",translations.de.resultpage=new Object,translations.de.resultpage["Dep:"]="Abflug:",translations.de.resultpage["Arr:"]="Ankunft:",translations.de.resultpage["Layover in"]="Umst. in",translations.de.resultpage[" to "]=" nach ",translations.de.resultpage["Mon,"]="Mo.,",translations.de.resultpage["Tue,"]="Di.,",translations.de.resultpage["Wed,"]="Mi.,",translations.de.resultpage["Thu,"]="Do.,",translations.de.resultpage["Fri,"]="Fr.,",translations.de.resultpage["Sat,"]="Sa.,",translations.de.resultpage["Sun,"]="So.,",translations.de.resultpage[" Jan "]=" Januar ",translations.de.resultpage[" Feb "]=" Februar ",translations.de.resultpage[" Mar "]=" M&auml;rz ",translations.de.resultpage[" Apr "]=" April ",translations.de.resultpage[" May "]=" Mai ",translations.de.resultpage[" Jun "]=" Juni ",translations.de.resultpage[" Jul "]=" Juli ",translations.de.resultpage[" Aug "]=" August ",translations.de.resultpage[" Sep "]=" September ",translations.de.resultpage[" Oct "]=" Oktober ",translations.de.resultpage[" Nov "]=" November ",translations.de.resultpage[" Dec "]=" Dezember ",translations.de.resultpage["OPERATED BY "]="Durchgef&uuml;hrt von ";var distances=new Object,currentItin=new Object,mtpPassengerConfig={adults:1,infantsLap:0,infantsSeat:0,cAges:new Array};function startScript(){null===document.getElementById("mptSettingsContainer")&&injectCss(),window.location.href!==mptSettings.laststatus&&(setTimeout(function(){getPageLang()},100),mptSettings.laststatus=window.location.href),1===mptSettings.scriptrunning&&setTimeout(function(){startScript()},500)}function createUsersettings(){var e="",n=document.createElement("div");n.setAttribute("id","mptSettingsContainer"),n.setAttribute("style","border-bottom: 1px dashed grey;"),n.innerHTML='<div style="display:inline-block;float:left;cursor:pointer;" id="passengerVisToggler">Passengers (<label id="mtpPaxCount">1a</label>)</div><div id="mptStartparse" class="invis" style="margin-left:20px;display:none;cursor:pointer">Editor-Mode:Parse!</div><div id="mtpNotification" style="margin-left:50px;display:inline-block;"></div><div style="display:inline-block;float:right;"><div id="settingsVisToggler" style="display:inline-block;cursor:pointer;">Settings</div> (v'+mptSettings.version+') <div id="mptCabintoggler" style="display:inline-block;">(Cabin: <label id="mptCabinMode" style="width:30px;text-align:center;cursor:pointer;display:inline-block">Auto</label>)</div></div><div id="mptSettings" class="invis" style="display:none;border-top: 1px dotted grey;"></div><div id="mptPassengers" class="invis" style="display:none;border-top: 1px dotted grey;"></div>';var t=document.getElementById("contentwrapper");t.parentNode.insertBefore(n,t),document.getElementById("settingsVisToggler").onclick=function(){toggleVis(document.getElementById("mptSettings"))},document.getElementById("passengerVisToggler").onclick=function(){toggleVis(document.getElementById("mptPassengers"))},t=document.getElementById("mptSettings"),e='<div id="mptrestoredefault" style="text-align:right;font-weight:bold;text-decoration:underline;">Restore Defaults</div>',e+='<div style="text-align:center;font-weight:bold">**** Display Settings: ****</div>',e+='<div style="margin:5px 0;"><div style="float:left;width:25%">',e+='<div id="mpttimeformat">Time Format: <label style="cursor:pointer;">'+printSettingsvalue("timeformat")+"</label></div>",e+='<div id="mptlanguage">Language: <label style="cursor:pointer;">'+printSettingsvalue("language")+"</label></div>",e+='</div><div style="float:left;width:25%">',e+='<div id="mptenableDeviders">Enable deviders: <label style="cursor:pointer;">'+printSettingsvalue("enableDeviders")+"</label></div>",e+='<div id="mptenableInlineMode">Inline Mode: <label style="cursor:pointer;">'+printSettingsvalue("enableInlineMode")+"</label></div>",e+='</div><div style="float:left;width:25%">',e+='<div id="mptenableFarerules">Open fare-rules in new window: <label style="cursor:pointer;">'+printSettingsvalue("enableFarerules")+"</label></div>",e+='<div id="mptenablePricebreakdown">Price breakdown: <label style="cursor:pointer;">'+printSettingsvalue("enablePricebreakdown")+"</label></div>",e+='</div><div style="float:left;width:25%">',e+='<div id="mptlinkFontsize">Link font size: <label style="cursor:pointer;">'+printSettingsvalue("linkFontsize")+"</label>%</div>",e+='</div><div style="clear:both"></div></div>',e+='<div style="text-align:center;font-weight:bold">**** Feature Settings: ****</div>',e+='<div style="margin:5px 0"><div style="float:left;width:25%">',e+='<div id="mptenableEditormode">Editor mode: <label style="cursor:pointer;">'+printSettingsvalue("enableEditormode")+"</label></div>",e+='</div><div style="float:left;width:25%">',e+='<div id="mptenableMilesbreakdown">Miles breakdown: <label style="cursor:pointer;">'+printSettingsvalue("enableMilesbreakdown")+"</label></div>",e+='<div id="mptenableMilesbreakdownautoload">Miles breakdown autoload: <label style="cursor:pointer;">'+printSettingsvalue("enableMilesbreakdownautoload")+"</label></div>",e+='<div id="mptenableMilesInlinemode">Print miles breakdown inline: <label style="cursor:pointer;">'+printSettingsvalue("enableMilesInlinemode")+"</label></div>",e+='</div><div style="float:left;width:25%">',e+='<div id="mptenableIMGautoload">Images autoload: <label style="cursor:pointer;">'+printSettingsvalue("enableIMGautoload")+"</label></div>",e+='<div id="mptenableWheretocredit">Enable WhereToCredit: <label style="cursor:pointer;">'+printSettingsvalue("enableWheretocredit")+"</label></div>",e+='</div><div style="float:left;width:25%">',e+='<div id="mptenablePlanefinder">Enable Planefinder: <label style="cursor:pointer;">'+printSettingsvalue("enablePlanefinder")+"</label></div>",e+='<div id="mptenableSeatguru">Enable Seatguru: <label style="cursor:pointer;">'+printSettingsvalue("enableSeatguru")+"</label></div>",e+='</div><div style="clear:both"></div></div>',e+='<div style="text-align:center;font-weight:bold">**** Airline Locale / Edition: ****</div>',e+='<div style="margin:5px 0">',e+='<div id="mptaaEdition" style="width:33%;float:left;">American (Europe/Asia/Pacific): <label style="cursor:pointer;">'+printSettingsvalue("aaEdition")+"</label></div>",e+='<div id="mptaac1Edition" style="width:33%;float:left;">American (America/UK): <label style="cursor:pointer;">'+printSettingsvalue("aac1Edition")+"</label></div>",e+='<div id="mptacEdition" style="width:33%;float:left;">Air Canada: <label style="cursor:pointer;">'+printSettingsvalue("acEdition")+"</label></div>",e+='<div id="mptafEdition" style="width:33%;float:left;">Air France: <label style="cursor:pointer;">'+printSettingsvalue("afEdition")+"</label></div>",e+='<div id="mptazEdition" style="width:33%;float:left;">Alitalia: <label style="cursor:pointer;">'+printSettingsvalue("azEdition")+"</label></div>",e+='<div id="mptbaLanguage" style="width:33%;float:left;">British Airways (Language): <label style="cursor:pointer;">'+printSettingsvalue("baLanguage")+"</label></div>",e+='<div id="mptbaEdition" style="width:33%;float:left;">British Airways (Locale): <label style="cursor:pointer;">'+printSettingsvalue("baEdition")+"</label></div>",e+='<div id="mptczEdition" style="width:33%;float:left;">China Southern: <label style="cursor:pointer;">'+printSettingsvalue("czEdition")+"</label></div>",e+='<div id="mptdlEdition" style="width:33%;float:left;">Delta: <label style="cursor:pointer;">'+printSettingsvalue("dlEdition")+"</label></div>",e+='<div id="mptibEdition" style="width:33%;float:left;">Iberia: <label style="cursor:pointer;">'+printSettingsvalue("ibEdition")+"</label></div>",e+='<div id="mptklEdition" style="width:33%;float:left;">KLM: <label style="cursor:pointer;">'+printSettingsvalue("klEdition")+"</label></div>",e+='<div id="mptlaEdition" style="width:33%;float:left;">LATAM: <label style="cursor:pointer;">'+printSettingsvalue("laEdition")+"</label></div>",e+='<div id="mptlhEdition" style="width:33%;float:left;">Lufthansa: <label style="cursor:pointer;">'+printSettingsvalue("lhEdition")+"</label></div>",e+='<div id="mptlxEdition" style="width:33%;float:left;">Swiss: <label style="cursor:pointer;">'+printSettingsvalue("lxEdition")+"</label></div>",e+='<div id="mptqfEdition" style="width:33%;float:left;">Qantas Airways: <label style="cursor:pointer;">'+printSettingsvalue("qfEdition")+"</label></div>",e+='<div style="clear:both"></div></div>',e+='<div style="text-align:center;font-weight:bold">**** Airline Currency: ****</div>',e+='<div style="margin:5px 0">',e+='<div id="mptaac1Currency" style="width:33%;float:left;">American (America/UK): <label style="cursor:pointer;">'+printSettingsvalue("aac1Currency")+"</label></div>",e+='<div id="mptqfCurrency" style="width:33%;float:left;">Qantas Airways: <label style="cursor:pointer;">'+printSettingsvalue("qfCurrency")+"</label></div>",e+='<div style="clear:both"></div></div>',e+='<div style="text-align:center;font-weight:bold"><label id="configcloser" style="cursor:pointer;text-decoration:underline;">Close</label><div>',t.innerHTML=e,document.getElementById("mptrestoredefault").onclick=function(){restoreDefaultSettings()},document.getElementById("mpttimeformat").onclick=function(){toggleSettings("timeformat")},document.getElementById("mptlanguage").onclick=function(){toggleSettings("language")},document.getElementById("mptenableDeviders").onclick=function(){toggleSettings("enableDeviders")},document.getElementById("mptenableInlineMode").onclick=function(){toggleSettings("enableInlineMode")},document.getElementById("mptenableEditormode").onclick=function(){toggleSettings("enableEditormode")},document.getElementById("mptenableIMGautoload").onclick=function(){toggleSettings("enableIMGautoload")},document.getElementById("mptenableFarerules").onclick=function(){toggleSettings("enableFarerules")},document.getElementById("mptenablePricebreakdown").onclick=function(){toggleSettings("enablePricebreakdown")},document.getElementById("mptenableMilesbreakdown").onclick=function(){toggleSettings("enableMilesbreakdown")},document.getElementById("mptlinkFontsize").onclick=function(){toggleSettings("linkFontsize")},document.getElementById("mptenableMilesbreakdownautoload").onclick=function(){toggleSettings("enableMilesbreakdownautoload")},document.getElementById("mptenableMilesInlinemode").onclick=function(){toggleSettings("enableMilesInlinemode")},document.getElementById("mptenablePlanefinder").onclick=function(){toggleSettings("enablePlanefinder")},document.getElementById("mptenableSeatguru").onclick=function(){toggleSettings("enableSeatguru")},document.getElementById("mptenableWheretocredit").onclick=function(){toggleSettings("enableWheretocredit")},document.getElementById("mptaaEdition").onclick=function(){toggleSettings("aaEdition")},document.getElementById("mptaac1Edition").onclick=function(){toggleSettings("aac1Edition")},document.getElementById("mptaac1Currency").onclick=function(){toggleSettings("aac1Currency")},document.getElementById("mptacEdition").onclick=function(){toggleSettings("acEdition")},document.getElementById("mptafEdition").onclick=function(){toggleSettings("afEdition")},document.getElementById("mptazEdition").onclick=function(){toggleSettings("azEdition")},document.getElementById("mptbaLanguage").onclick=function(){toggleSettings("baLanguage")},document.getElementById("mptbaEdition").onclick=function(){toggleSettings("baEdition")},document.getElementById("mptczEdition").onclick=function(){toggleSettings("czEdition")},document.getElementById("mptdlEdition").onclick=function(){toggleSettings("dlEdition")},document.getElementById("mptibEdition").onclick=function(){toggleSettings("ibEdition")},document.getElementById("mptklEdition").onclick=function(){toggleSettings("klEdition")},document.getElementById("mptlaEdition").onclick=function(){toggleSettings("laEdition")},document.getElementById("mptlhEdition").onclick=function(){toggleSettings("lhEdition")},document.getElementById("mptlxEdition").onclick=function(){toggleSettings("lxEdition")},document.getElementById("mptqfCurrency").onclick=function(){toggleSettings("qfCurrency")},document.getElementById("mptqfEdition").onclick=function(){toggleSettings("qfEdition")},document.getElementById("mptCabintoggler").onclick=function(){toggleSettings("cabin")},document.getElementById("configcloser").onclick=function(){toggleVis(document.getElementById("mptSettings"))},document.getElementById("mptStartparse").onclick=function(){document.getElementById("mptStartparse").style.display="none",setTimeout(function(){fePS()},50)},t=document.getElementById("mptPassengers"),e='<div style="float:left;width:25%">',e+='<div style="margin:2px 0"><label style="width:100px;display:inline-block">Adults: </label> <select name="numAdults" id="numAdults" style="width:50px">';for(var i=1;i<=9;i++)e+="<option>"+i+"</option>";e+="</select></div>",e+='<div style="margin:2px 0"><label style="width:100px;display:inline-block">Infants (Lap): </label> <select name="numInfantsLap" id="numInfantsLap" style="width:50px">';for(i=0;i<=9;i++)e+="<option>"+i+"</option>";e+="</select></div>",e+='<div style="margin:2px 0"><label style="width:100px;display:inline-block">Infants (Seat): </label> <select name="numInfantsSeat" id="numInfantsSeat" style="width:50px">';for(i=0;i<=9;i++)e+="<option>"+i+"</option>";e+="</select></div>",e+='</div><div style="float:left;width:25%">';for(var a=1;a<=3;a++){e+='<div style="margin:2px 0"><label style="width:100px;display:inline-block">Child '+a+' - Age: </label> <select name="child'+a+'age" id="child'+a+'age" style="width:50px">',e+='<option value="-1">-</option>';for(i=2;i<=17;i++)e+='<option value="'+i+'">'+i+"</option>";e+="</select></div>"}e+='</div><div style="float:left;width:25%">';for(a=4;a<=6;a++){e+='<div style="margin:2px 0"><label style="width:100px;display:inline-block">Child '+a+' - Age: </label> <select name="child'+a+'age" id="child'+a+'age" style="width:50px">',e+='<option value="-1">-</option>';for(i=2;i<=17;i++)e+='<option value="'+i+'">'+i+"</option>";e+="</select></div>"}e+='</div><div style="float:left;width:25%">';for(a=7;a<=8;a++){e+='<div style="margin:2px 0"><label style="width:100px;display:inline-block">Child '+a+' - Age: </label> <select name="child'+a+'age" id="child'+a+'age" style="width:50px">',e+='<option value="-1">-</option>';for(i=2;i<=17;i++)e+='<option value="'+i+'">'+i+"</option>";e+="</select></div>"}e+='<div style="width:150px;margin:2px 0"><div id="mtpConfirmPax" style="float:left;width:50%;text-align:center;cursor:pointer;font-weight:bold">Confirm</div><div id="mtpCancelPax" style="float:left;width:50%;text-align:center;cursor:pointer;font-weight:bold">Cancel</div></div>',e+='</div><div style="clear:both;"></div>',t.innerHTML=e,document.getElementById("mtpCancelPax").onclick=function(){toggleVis(document.getElementById("mptPassengers"))},document.getElementById("mtpConfirmPax").onclick=function(){processPassengers()}}function toggleVis(e){hasClass(e,"vis")?(e.setAttribute("class","invis"),e.style.display="none"):(e.setAttribute("class","vis"),e.style.display="block")}function restoreDefaultSettings(){window.confirm("Are you sure you want to reset any saved settings to the default values? The page will automatically reload to complete the reset.")&&(async()=>{"undefined"!=typeof GM&&void 0===GM.info||await GM.setValue("mptUserSettings",null),window.location.reload()})()}function toggleSettings(e){switch(console.log("toggleSettings called. target="+e),e){case"timeformat":"12h"==mptUserSettings.timeformat?mptUserSettings.timeformat="24h":mptUserSettings.timeformat="12h";break;case"language":"de"==mptUserSettings.language?mptUserSettings.language="en":mptUserSettings.language="de";break;case"linkFontsize":mptUserSettings.linkFontsize<=190&&mptUserSettings.linkFontsize>=50?mptUserSettings.linkFontsize+=10:mptUserSettings.linkFontsize=50;break;case"acEdition":acEditions.indexOf(mptUserSettings.acEdition)==acEditions.length-1?mptUserSettings.acEdition=acEditions[0]:mptUserSettings.acEdition=acEditions[acEditions.indexOf(mptUserSettings.acEdition)+1];break;case"aaEdition":(n=findPositionForValue(mptUserSettings.aaEdition,aaEditions))>=aaEditions.length-1||-1===n?mptUserSettings.aaEdition=aaEditions[0].value:(n++,mptUserSettings.aaEdition=aaEditions[n].value);break;case"aac1Edition":(n=findPositionForValue(mptUserSettings.aac1Edition,aac1Editions))>=aac1Editions.length-1||-1===n?mptUserSettings.aac1Edition=aac1Editions[0].value:(n++,mptUserSettings.aac1Edition=aac1Editions[n].value);break;case"aac1Currency":(n=findPositionForValue(mptUserSettings.aac1Currency,aac1Currencies))>=aac1Currencies.length-1||-1===n?mptUserSettings.aac1Currency=aac1Currencies[0].value:(n++,mptUserSettings.aac1Currency=aac1Currencies[n].value);break;case"afEdition":(n=findPositionForValue(mptUserSettings.afEdition,afEditions))>=afEditions.length-1||-1===n?mptUserSettings.afEdition=afEditions[0].value:(n++,mptUserSettings.afEdition=afEditions[n].value);break;case"azEdition":(n=findPositionForValue(mptUserSettings.azEdition,azEditions))>=azEditions.length-1||-1===n?mptUserSettings.azEdition=azEditions[0].value:(n++,mptUserSettings.azEdition=azEditions[n].value);break;case"baLanguage":(n=findPositionForValue(mptUserSettings.baLanguage,baLanguages))>=baLanguages.length-1||-1===n?mptUserSettings.baLanguage=baLanguages[0].value:(n++,mptUserSettings.baLanguage=baLanguages[n].value);break;case"baEdition":(n=findPositionForValue(mptUserSettings.baEdition,baEditions))>=baEditions.length-1||-1===n?mptUserSettings.baEdition=baEditions[0].value:(n++,mptUserSettings.baEdition=baEditions[n].value);break;case"czEdition":(n=findPositionForValue(mptUserSettings.czEdition,czEditions))>=czEditions.length-1||-1===n?mptUserSettings.czEdition=czEditions[0].value:(n++,mptUserSettings.czEdition=czEditions[n].value);break;case"dlEdition":(n=findPositionForValue(mptUserSettings.dlEdition,dlEditions))>=dlEditions.length-1||-1===n?mptUserSettings.dlEdition=dlEditions[0].value:(n++,mptUserSettings.dlEdition=dlEditions[n].value);break;case"ibEdition":(n=findPositionForValue(mptUserSettings.ibEdition,ibEditions))>=ibEditions.length-1||-1===n?mptUserSettings.ibEdition=ibEditions[0].value:(n++,mptUserSettings.ibEdition=ibEditions[n].value);break;case"ibCurrency":(n=findPositionForValue(mptUserSettings.ibCurrency,ibCurrencies))>=ibCurrencies.length-1||-1===n?mptUserSettings.ibCurrency=ibCurrencies[0].value:(n++,mptUserSettings.ibCurrency=ibCurrencies[n].value);break;case"klEdition":(n=findPositionForValue(mptUserSettings.klEdition,klEditions))>=klEditions.length-1||-1===n?mptUserSettings.klEdition=klEditions[0].value:(n++,mptUserSettings.klEdition=klEditions[n].value);break;case"laEdition":(n=findPositionForValue(mptUserSettings.laEdition,laEditions))>=laEditions.length-1||-1===n?mptUserSettings.laEdition=laEditions[0].value:(n++,mptUserSettings.laEdition=laEditions[n].value);break;case"laCurrency":(n=findPositionForValue(mptUserSettings.laCurrency,laCurrencies))>=laCurrencies.length-1||-1===n?mptUserSettings.laCurrency=laCurrencies[0].value:(n++,mptUserSettings.laCurrency=laCurrencies[n].value);break;case"lhEdition":(n=findPositionForValue(mptUserSettings.lhEdition,lhEditions))>=lhEditions.length-1||-1===n?mptUserSettings.lhEdition=lhEditions[0].value:(n++,mptUserSettings.lhEdition=lhEditions[n].value);break;case"lxEdition":(n=findPositionForValue(mptUserSettings.lxEdition,lxEditions))>=lxEditions.length-1||-1===n?mptUserSettings.lxEdition=lxEditions[0].value:(n++,mptUserSettings.lxEdition=lxEditions[n].value);break;case"qfEdition":(n=findPositionForValue(mptUserSettings.qfEdition,qfEditions))>=qfEditions.length-1||-1===n?mptUserSettings.qfEdition=qfEditions[0].value:(n++,mptUserSettings.qfEdition=qfEditions[n].value);break;case"qfCurrency":var n;(n=findPositionForValue(mptUserSettings.qfCurrency,qfCurrencies))>=qfCurrencies.length-1||-1===n?mptUserSettings.qfCurrency=qfCurrencies[0].value:(n++,mptUserSettings.qfCurrency=qfCurrencies[n].value);break;case"cabin":return"Auto"===mptSettings.cabin?mptSettings.cabin="Y":"Y"===mptSettings.cabin?mptSettings.cabin="Y+":"Y+"===mptSettings.cabin?mptSettings.cabin="C":"C"===mptSettings.cabin?mptSettings.cabin="F":"F"===mptSettings.cabin&&(mptSettings.cabin="Auto"),document.getElementById("mptCabinMode").innerHTML=mptSettings.cabin,printLinksContainer(),!1;default:1==mptUserSettings[e]?mptUserSettings[e]=0:mptUserSettings[e]=1}document.getElementById("mpt"+e).firstChild.nextSibling.innerHTML=printSettingsvalue(e),1===mptSettings.scriptEngine&&GM.setValue("mptUserSettings",JSON.stringify(mptUserSettings))}function processPassengers(){var e,n=!1;n=document.getElementById("numAdults"),mtpPassengerConfig.adults=Number(n.options[n.selectedIndex].value),n=document.getElementById("numInfantsLap"),mtpPassengerConfig.infantsLap=Number(n.options[n.selectedIndex].value),n=document.getElementById("numInfantsSeat"),mtpPassengerConfig.infantsSeat=Number(n.options[n.selectedIndex].value),mtpPassengerConfig.cAges=new Array;for(var t=1;t<=8;t++)processChild("child"+t+"age");e=mtpPassengerConfig.adults+"a"+(mtpPassengerConfig.cAges.length>0?" "+mtpPassengerConfig.cAges.length+"c":"")+(mtpPassengerConfig.infantsLap+mtpPassengerConfig.infantsSeat>0?" "+(mtpPassengerConfig.infantsLap+mtpPassengerConfig.infantsSeat)+"i":""),document.getElementById("mtpPaxCount").innerHTML=e,toggleVis(document.getElementById("mptPassengers")),printLinksContainer()}function processChild(e){var n,t=document.getElementById(e);(n=Number(t.options[t.selectedIndex].value))>=2&&mtpPassengerConfig.cAges.push(n)}function printSettingsvalue(e){var n="";switch(e){case"timeformat":n=mptUserSettings.timeformat;break;case"language":n=mptUserSettings.language;break;case"linkFontsize":n=mptUserSettings.linkFontsize;break;case"acEdition":n=mptUserSettings.acEdition;break;case"aaEdition":n=findNameForValue(mptUserSettings.aaEdition,aaEditions);break;case"aac1Edition":n=findNameForValue(mptUserSettings.aac1Edition,aac1Editions);break;case"aac1Currency":n=findNameForValue(mptUserSettings.aac1Currency,aac1Currencies);break;case"afEdition":n=findNameForValue(mptUserSettings.afEdition,afEditions);break;case"azEdition":n=findNameForValue(mptUserSettings.azEdition,azEditions);break;case"baLanguage":n=findNameForValue(mptUserSettings.baLanguage,baLanguages);break;case"baEdition":n=findNameForValue(mptUserSettings.baEdition,baEditions);break;case"czEdition":n=findNameForValue(mptUserSettings.czEdition,czEditions);break;case"dlEdition":n=findNameForValue(mptUserSettings.dlEdition,dlEditions);break;case"ibEdition":n=findNameForValue(mptUserSettings.ibEdition,ibEditions);break;case"ibCurrency":n=findNameForValue(mptUserSettings.ibCurrency,ibCurrencies);break;case"klEdition":n=findNameForValue(mptUserSettings.klEdition,klEditions);break;case"laEdition":n=findNameForValue(mptUserSettings.laEdition,laEditions);break;case"laCurrency":n=findNameForValue(mptUserSettings.laCurrency,laCurrencies);break;case"lhEdition":n=findNameForValue(mptUserSettings.lhEdition,lhEditions);break;case"lxEdition":n=findNameForValue(mptUserSettings.lxEdition,lxEditions);break;case"qfCurrency":n=findNameForValue(mptUserSettings.qfCurrency,qfCurrencies);break;case"qfEdition":n=findNameForValue(mptUserSettings.qfEdition,qfEditions);break;default:n=boolToEnabled(mptUserSettings[e])}return n}function findNameForValue(e,n){var t="Unknown";for(var i in n)if(n[i].value==e){t=n[i].name;break}return t}function findPositionForValue(e,n){var t=-1;for(var i in n)if(n[i].value==e){t=[i];break}return t}function printNotification(e){console.log(e);var n=document.getElementById("mtpNotification");if(null===n)console.log("mtp Error: Notification container not Found");else if("empty"==e)n.innerHTML="";else{var t=document.createElement("div");t.appendChild(document.createTextNode(e)),n.appendChild(t)}}function getPageLang(){printNotification("empty"),document.getElementById("mptStartparse").setAttribute("class","invis"),document.getElementById("mptStartparse").style.display="none",mptSettings.itaLanguage="en",mptSettings.retrycount=1,-1!=window.location.href.indexOf("view-details")?setTimeout(function(){fePS()},200):-1==window.location.href.indexOf("#search:")&&"https://matrix.itasoftware.com/"!=window.location.href&&"https://matrix.itasoftware.com/"!=window.location.href||setTimeout(function(){startPage()},200)}function exRE(e,n){for(var t,i=new Array,a=0;null!=(t=n.exec(e));)for(t.index===n.lastIndex&&n.lastIndex++,k=1;k<t.length;k++)i[a++]=t[k];return i}function inArray(e,n){for(var t=n.length,i=0;i<t;i++)if(n[i]==e)return!0;return!1}function monthnameToNumber(e){return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"].indexOf(e.toUpperCase())+1}function monthnumberToName(e){return["JAN","FEB","MAR","APR","MAY","JUN","JUL","AUG","SEP","OCT","NOV","DEC"][e-1]}function getFlightYear(e,n){var t=new Date,i=t.getMonth(),a=t.getDate(),r=t.getFullYear();return(i>n-1||i==n-1&&e<a)&&(r+=1),r}function return12htime(e){var n=0;return(e=/([01]?\d)(:\d{2})(AM|PM|am|pm| AM| PM| am| pm)/g.exec(e))[3]=trimStr(e[3]),"AM"!=e[3]&&"am"!=e[3]||"12"!=e[1]?"PM"!=e[3]&&"pm"!=e[3]||"12"==e[1]||(n=12):n=-12,+e[1]+n+e[2]}function trimStr(e){return e.replace(/^\s+|\s+$/gm,"")}function boolToEnabled(e){return 1==e?"enabled":"disabled"}function getcabincode(e){switch(e){case"E":e=0;break;case"P":e=1;break;case"B":e=2;break;case"F":e=3;break;default:e=0}return e}function findtarget(e,n){var t,i=document.getElementsByTagName("*");for(t in j=0,i)if((" "+i[t].className+" ").indexOf(" "+e+" ")>-1&&(j++,j==n))return i[t]}function findtargets(e){var n,t=document.getElementsByTagName("*"),i=new Array;for(n in t)(" "+t[n].className+" ").indexOf(" "+e+" ")>-1&&i.push(t[n]);return i}function hasClass(e,n){return(" "+e.className+" ").indexOf(" "+n+" ")>-1}function doHttpRequest(e,n,t){if("function"!=typeof t)return printNotification("Error: Invalid callback in doHttpRequest -> not a function"),!1;var i=!1;if("undefined"!=typeof XMLHttpRequest&&(i=new XMLHttpRequest),!i)return printNotification("Error: Failed to initialize http request"),!1;if(i.onreadystatechange=function(){if(4==i.readyState&&200==i.status)t(i);else if(4==i.readyState&&200!=i.status)return printNotification("Error: Failed to complete http request"),!1},"get"==n.mode)i.open("GET",e,!0),i.send();else if("post"==n.mode){i.open("POST",e,!0);for(var a=0;a<n.headers.length;a++)i.setRequestHeader(n.headers[a].name,n.headers[a].val);i.send(n.data)}}function findItinTarget(e,n,t){var a;if(!1===(a=findtarget(classSettings.resultpage.itin,1)))return printNotification("Error: Itin not found in findItinTarget-function"),!1;if(void 0===(a=(a=a.nextSibling.nextSibling).children[e-1]))return printNotification("Error: Leg not found in findItinTarget-function"),!1;if((a=a.children[1].children).length>=2){var r=0,s=0;for(i=0;i<a.length;i++)if(1==hasClass(a[i],classSettings.resultpage.itinRow)&&++s>=n){r=i,2!==a.length&&3!==a.length||r--;break}if(i==a.length)return printNotification("Error: Call to unreachable Segment in Leg "+e+" in findItinTarget-function"),!1;var l=0,o=0;switch(t){case"headline":l=-1*r,o=1;break;case"logo":l=0,o=0;break;case"airportsdate":l=0,o=1;break;case"flight":l=1,o=0;break;case"deptime":l=1,o=1;break;case"arrtime":case"duration":l=1,o=2;break;case"plane":l=1,o=4;break;case"cabin":l=1,o=5;break;default:return printNotification("Error: Unknown Target in findItinTarget-function"),!1}return a[r+l].children[o]}return printNotification("Error: Unknown error in findItinTarget-function"),!1}function validatePaxcount(e){for(var n=new Array,t=0;t<mtpPassengerConfig.cAges.length;t++)n.push(mtpPassengerConfig.cAges[t]);var i={adults:mtpPassengerConfig.adults,children:new Array,infLap:mtpPassengerConfig.infantsLap,infSeat:0};if(!0===e.sepInfSeat)i.infSeat=mtpPassengerConfig.infantsSeat;else for(t=0;t<mtpPassengerConfig.infantsSeat;t++)n.push(e.childMinAge);for(t=0;t<n.length;t++)n[t]<e.childAsAdult?i.children.push(n[t]):i.adults++;if(!0===e.countInf){if(e.maxPaxcount<i.adults+i.infLap+i.infSeat+i.children.length)return console.log("Too many passengers"),!1}else if(e.maxPaxcount<i.adults+i.infSeat+i.children.length)return console.log("Too many passengers"),!1;return 0===i.adults+i.infSeat+i.children.length?(console.log("No passengers"),!1):i}function startPage(){if(void 0===findtarget(classSettings.startpage.maindiv,1))return printNotification("Error: Unable to find content on start page."),!1;target=findtarget(classSettings.startpage.maindiv,1),target.children[0].children[0].children[0].children[0].setAttribute("valign","top")}function bindEditorMode(e){for(var n=0;n<currentItin.itin.length;n++)for(var t=0;t<currentItin.itin[n].seg.length;t++){var i=findItinTarget(n+1,t+1,"cabin").firstChild;if("create"===e){for(var a=(s=i.innerHTML).substr(s.length-2,1),r=s.substr(0,s.length-4),s=[["Economy","Y"],["Premium Economy","Y+"],["Business","C"],["First","F"]],l='<select style="width:40px" class="editoritem">',o=0;o<s.length;o++)l+='<option value="'+s[o][0]+'"'+(s[o][0]===r?' selected="selected"':"")+">"+s[o][1]+"</option>";l+="</select>",l+=' (<input type="text" class="editoritem" value="'+a+'" style="width:20px;text-align:center">)'}else l=(r=i.firstChild.options[i.firstChild.selectedIndex].value)+" ("+(a=i.firstChild.nextSibling.nextSibling.value)+")";i.innerHTML=l}}function fePS(){if(void 0===findtarget(classSettings.resultpage.itin,1))return printNotification("Error: Unable to find Content on result page."),!1;if("none"!=findtarget(classSettings.resultpage.itin,1).parentNode.previousSibling.previousSibling.style.display)return mptSettings.retrycount++,mptSettings.retrycount>50?(printNotification("Error: Timeout on result page. Content not found after 10s."),!1):(setTimeout(function(){fePS()},200),!1);for(t in classSettings.resultpage)if(void 0===findtarget(classSettings.resultpage[t],1))return printNotification("Error: Unable to find class "+classSettings.resultpage[t]+" for "+t+"."),!1;var e;null!=document.getElementById("powertoolslinkcontainer")&&(document.getElementById("powertoolslinkcontainer").innerHTML="");for(var n=findtargets("powertoolsitem"),t=n.length-1;t>=0;t--)n[t].parentNode.removeChild(n[t]);if(null!=(e=findtarget("pricebreakdown",1))&&e.parentNode.removeChild(e),null!=(e=findtarget("ff-links",1))&&e.parentNode.removeChild(e),null!=(e=findtarget("ff-plancontainer",1))&&e.parentNode.removeChild(e),null!=(e=document.getElementById("ff-routingcodescontainer"))&&e.parentNode.removeChild(e),1==mptUserSettings.enableEditormode&&0===findtargets("editoritem").length)return toggleVis(document.getElementById("mptStartparse")),document.getElementById("mptStartparse").style.display="inline-block",readItinerary(!1),bindEditorMode("create"),!1;findtargets("editoritem").length>0&&(bindEditorMode("remove"),toggleVis(document.getElementById("mptStartparse"))),1==mptUserSettings.enableFarerules&&bindRulelinks(),1==mptUserSettings.enableInlineMode?findtarget(classSettings.resultpage.milagecontainer,1).setAttribute("rowspan",10):0==mptUserSettings.enableInlineMode&&1==mptUserSettings.enablePricebreakdown?findtarget(classSettings.resultpage.milagecontainer,1).setAttribute("rowspan",3):findtarget(classSettings.resultpage.milagecontainer,1).setAttribute("rowspan",2),readItinerary(!0),"en"!==mptUserSettings.language&&void 0!==translations[mptUserSettings.language].resultpage&&translate("resultpage",mptUserSettings.language,findtarget(classSettings.resultpage.itin,1).nextSibling.nextSibling),1==mptUserSettings.enablePricebreakdown&&rearrangeprices(currentItin.dist),1==mptUserSettings.enableInlineMode&&printCPM(),printLinksContainer(),1==mptUserSettings.enableSeatguru&&bindSeatguru(),1==mptUserSettings.enablePlanefinder&&bindPlanefinder(),1==mptUserSettings.enableMilesbreakdown&&"undefined"!=typeof JSON&&printMilesbreakdown(),1==mptUserSettings.enableWheretocredit&&bindWheretocredit()}function printLinksContainer(){if(findtargets("editoritem").length>0)return!1;null!=document.getElementById("powertoolslinkcontainer")&&(document.getElementById("powertoolslinkcontainer").innerHTML="");for(var e=findtargets("powertoolsitem"),n=e.length-1;n>=1;n--)e[n].parentNode.removeChild(e[n]);printAAc1(),printAA(),printAC(),2==currentItin.itin.length&&currentItin.itin[0].orig==currentItin.itin[1].dest&&currentItin.itin[0].dest==currentItin.itin[1].orig&&printAF(),inArray("AS",currentItin.carriers)&&printAS(),(inArray("IB",currentItin.carriers)||inArray("BA",currentItin.carriers))&&(printBA(),printIB()),currentItin.itin.length>=3&&inArray("CZ",currentItin.carriers)&&printCZ(),1==currentItin.carriers.length&&inArray("AZ",currentItin.carriers)&&printAZ(),printDL(),printKL(),inArray("LA",currentItin.carriers)&&printLA(),(inArray("LH",currentItin.carriers)||inArray("OS",currentItin.carriers))&&printLH(),currentItin.itin.length<=2&&inArray("LX",currentItin.carriers)&&printLX(),(inArray("QF",currentItin.carriers)||inArray("JQ",currentItin.carriers)||inArray("NZ",currentItin.carriers))&&printQF(),inArray("TK",currentItin.carriers)&&printTK(),1==mptUserSettings.enableDeviders&&printSeperator(),printExpedia(),printCheapOair(),printPriceline(),printEtraveli(),1==mptUserSettings.enableDeviders&&printSeperator(),printHipmunk(),printMomondo(),printKayak(0),printKayak(1),printSkyscanner(),1==mptUserSettings.enableDeviders&&printSeperator(),printGCM(),printWheretocredit(),bindLinkClicks()}function bindRulelinks(){var e=0,n=0,t=1,i=findtarget(classSettings.resultpage.rulescontainer,t);if(null!=i)do{e>Number(i.firstChild.innerHTML.replace(/[^\d]/gi,""))&&(n++,e=0),i=i.nextSibling.nextSibling.nextSibling;var a=window.location.href.replace(/view-details/,"view-rules")+";fare-key="+n+"/"+e,r=document.createElement("a");r.setAttribute("class","gwt-Anchor"),r.setAttribute("href",a),r.setAttribute("target","_blank");var s=document.createTextNode("rules");r.appendChild(s),i.parentNode.replaceChild(r,i),e++,t++,i=findtarget(classSettings.resultpage.rulescontainer,t)}while(null!=i)}function rearrangeprices(){var e=0,n=0,t=0,i=0,a="",r=new RegExp("((YQ|YR))"),s=1,l=findtarget(classSettings.resultpage.htbLeft,s);if(0==mptUserSettings.enableInlineMode)var o="",u=0;if(null!=l)do{var g=l.firstChild.firstChild.nodeType;if(1==g){i=1;var d=Number(l.nextSibling.firstChild.innerHTML.replace(/[^\d]/gi,""));""==a&&(a=l.nextSibling.firstChild.innerHTML.replace(/[\d,.]/g,"")),e+=d}else if(1==i&&3==g){var c=l.firstChild.innerHTML;d=Number(l.nextSibling.firstChild.innerHTML.replace(/[^\d]/gi,""));if(1==hasClass(l.nextSibling,classSettings.resultpage.htbGreyBorder)){var m=e+n+t;if(1==mptUserSettings.enableInlineMode)(p=document.createElement("tr")).innerHTML='<td class="'+classSettings.resultpage.htbLeft+'"><div class="gwt-Label">Basefare per passenger ('+(e/m*100).toFixed(2).toString()+'%)</div></td><td class="'+classSettings.resultpage.htbGreyBorder+'"><div class="gwt-Label">'+a+(e/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</div></td>",l.parentNode.parentNode.insertBefore(p,l.parentNode),(p=document.createElement("tr")).innerHTML='<td class="'+classSettings.resultpage.htbLeft+'"><div class="gwt-Label">Taxes per passenger ('+(n/m*100).toFixed(2).toString()+'%)</div></td><td class="'+classSettings.resultpage.htbRight+'"><div class="gwt-Label">'+a+(n/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</div></td>",l.parentNode.parentNode.insertBefore(p,l.parentNode),(p=document.createElement("tr")).innerHTML='<td class="'+classSettings.resultpage.htbLeft+'"><div class="gwt-Label">Surcharges per passenger ('+(t/m*100).toFixed(2).toString()+'%)</div></td><td class="'+classSettings.resultpage.htbRight+'"><div class="gwt-Label">'+a+(t/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</div></td>",l.parentNode.parentNode.insertBefore(p,l.parentNode),(p=document.createElement("tr")).innerHTML='<td class="'+classSettings.resultpage.htbLeft+'"><div class="gwt-Label">Basefare + Taxes per passenger ('+((e+n)/m*100).toFixed(2).toString()+'%)</div></td><td class="'+classSettings.resultpage.htbGreyBorder+'"><div class="gwt-Label">'+a+((e+n)/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</div></td>",l.parentNode.parentNode.insertBefore(p,l.parentNode);else o+='<table style="float:left; margin-right:15px;"><tbody>',o+='<tr><td colspan=3 style="text-align:center;">Price breakdown '+ ++u+": </td></tr>",o+="<tr><td>"+a+' per mile</td><td colspan=2 style="text-align:center;">'+(m/currentItin.dist/100).toFixed(4).toString()+"</td></tr>",o+='<tr><td>Basefare</td><td style="padding:0px 3px;text-align:right;">'+(e/m*100).toFixed(1).toString()+'%</td><td style="text-align:right;">'+a+(e/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</td></tr>",o+='<tr><td>Tax</td><td style="padding:0px 3px;text-align:right;">'+(n/m*100).toFixed(1).toString()+'%</td><td style="text-align:right;">'+a+(n/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</td></tr>",o+='<tr><td>Surcharges</td><td style="padding:0px 3px;text-align:right;">'+(t/m*100).toFixed(1).toString()+'%</td><td style="text-align:right;">'+a+(t/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</td></tr>",o+='<tr><td style="border-top: 1px solid #878787;padding:2px 0">Bf+Tax</td><td style="border-top: 1px solid #878787;padding:2px 3px;text-align:right;">'+((e+n)/m*100).toFixed(1).toString()+'%</td><td style="border-top: 1px solid #878787;padding:2px 0; text-align:right;">'+a+((e+n)/100).toFixed(2).toString().replace(/\d(?=(\d{3})+\.)/g,"$&,")+"</td></tr>",o+="</tbody></table>";currentItin.basefares=+(e/100).toFixed(2),currentItin.taxes=+(n/100).toFixed(2),currentItin.surcharges=+(t/100).toFixed(2),i=0,e=0,n=0,t=0}else!0===r.test(c)?t+=d:n+=d}s++,l=findtarget(classSettings.resultpage.htbLeft,s)}while(null!=l);if(0==mptUserSettings.enableInlineMode){var p,v=findtarget(classSettings.resultpage.htbContainer,1).parentNode.parentNode.parentNode;(p=document.createElement("tr")).setAttribute("class","pricebreakdown"),p.innerHTML="<td><div>"+o+"</div></td>",v.parentNode.insertBefore(p,v)}}function printMilesbreakdown(){1==mptUserSettings.enableMilesbreakdownautoload?retrieveMileages():(target=findItinTarget(1,1,"headline"),target.innerHTML=target.innerHTML.replace(target.firstChild.className,target.firstChild.className+'" style="display:inline-block')+'<div id="loadmileage" class="'+target.firstChild.className+'" style="display:inline-block;cursor:pointer;float:right;">Load mileage</div>',document.getElementById("loadmileage").onclick=function(){document.getElementById("loadmileage").parentNode.removeChild(document.getElementById("loadmileage")),retrieveMileages()})}function retrieveMileages(){for(var e=new Object,n="",t=0;t<currentItin.itin.length;t++)for(var i=0;i<currentItin.itin[t].seg.length;i++)void 0===distances[currentItin.itin[t].seg[i].orig+currentItin.itin[t].seg[i].dest]&&void 0===distances[currentItin.itin[t].seg[i].dest+currentItin.itin[t].seg[i].orig]&&void 0===e[currentItin.itin[t].seg[i].orig+currentItin.itin[t].seg[i].dest]&&void 0===e[currentItin.itin[t].seg[i].dest+currentItin.itin[t].seg[i].orig]&&(e[currentItin.itin[t].seg[i].orig+currentItin.itin[t].seg[i].dest]=currentItin.itin[t].seg[i].orig+"-"+currentItin.itin[t].seg[i].dest);for(t in e)n+=(""===n?"":"&")+"r[]="+e[t];if(""===n)return printMileages(),!1}function printMileages(){for(var e=0,n=0;n<currentItin.itin.length;n++){for(var t=0;t<currentItin.itin[n].seg.length;t++){if(void 0===distances[currentItin.itin[n].seg[t].orig+currentItin.itin[n].seg[t].dest]&&void 0===distances[currentItin.itin[n].seg[t].dest+currentItin.itin[n].seg[t].orig])return printNotification("Error: Missing route data for "+currentItin.itin[n].seg[t].orig+" => "+currentItin.itin[n].seg[t].dest),!1;void 0!==distances[currentItin.itin[n].seg[t].orig+currentItin.itin[n].seg[t].dest]&&void 0===distances[currentItin.itin[n].seg[t].dest+currentItin.itin[n].seg[t].orig]?currentItin.itin[n].seg[t].dist=distances[currentItin.itin[n].seg[t].orig+currentItin.itin[n].seg[t].dest]:currentItin.itin[n].seg[t].dist=distances[currentItin.itin[n].seg[t].dest+currentItin.itin[n].seg[t].orig],e+=currentItin.itin[n].seg[t].dist,currentItin.itin[n].seg[t].dist=Math.floor(currentItin.itin[n].seg[t].dist)}currentItin.itin[n].dist=Math.floor(e),e=0}if(1===mptUserSettings.enableInlineMode||1===mptUserSettings.enableMilesInlinemode){var i="";for(n=0;n<currentItin.itin.length;n++){(i=findItinTarget(n+1,1,"headline")).innerHTML=i.innerHTML.replace(i.firstChild.className,i.firstChild.className+'" style="display:inline-block')+'<div style="display:inline-block;float:right;"> '+currentItin.itin[n].dist+" miles</div>";for(t=0;t<currentItin.itin[n].seg.length;t++)currentItin.itin[n].seg.length>1&&((i=findItinTarget(n+1,t+1,"airportsdate")).innerHTML=i.innerHTML.replace(i.firstChild.className,i.firstChild.className+'" style="display:inline-block')+'<div style="display:inline-block;float:right;margin-right:110px;"> '+currentItin.itin[n].seg[t].dist+" miles</div>")}}else{var a="";a+="<tbody>",a+='<tr><td colspan="4" style="text-align:center;">Mileage breakdown: </td></tr>';for(n=0;n<currentItin.itin.length;n++){a+='<tr><td style="border-bottom: 1px solid #878787;padding:2px 2px">Leg '+(n+1)+'</td><td style="border-bottom: 1px solid #878787;padding:2px 0">'+currentItin.itin[n].orig+'</td><td style="border-bottom: 1px solid #878787;padding:2px 0">'+currentItin.itin[n].dest+'</td><td style="border-bottom: 1px solid #878787;padding:2px 0;text-align:right;">'+currentItin.itin[n].dist+"</td></tr>";for(t=0;t<currentItin.itin[n].seg.length;t++)currentItin.itin[n].seg.length>1&&(a+="<tr><td></td><td>"+currentItin.itin[n].seg[t].orig+"</td><td>"+currentItin.itin[n].seg[t].dest+'</td><td style="text-align:right;">'+currentItin.itin[n].seg[t].dist+"</td></tr>")}if(a+="</tbody>",void 0===findtarget("pricebreakdown",1)){var r=findtarget(classSettings.resultpage.htbContainer,1).parentNode.parentNode.parentNode,s=document.createElement("tr");s.setAttribute("class","pricebreakdown"),s.innerHTML='<td><div><table style="float:left; margin-right:15px;">'+a+"</table></div></td>",r.parentNode.insertBefore(s,r)}else{r=findtarget("pricebreakdown",1).firstChild.firstChild.firstChild;var l=document.createElement("table");l.setAttribute("style","float:left; margin-right:15px;"),l.innerHTML=a,r.parentNode.insertBefore(l,r)}}}function parseAddInfo(e){var n={codeshare:0,layoverduration:0,airportchange:0,arrDate:""};!0===/contains\s*airport\s*changes/g.test(e)&&(n.airportchange=1),!0===/OPERATED\s*BY/g.test(e)&&(n.codeshare=1);var t=new Array;2==(t=exRE(e,/\,\s*([a-zA-Z]{3})\s*([0-9]{1,2})/g)).length&&(n.arrDate={},n.arrDate.month=monthnameToNumber(t[0]),n.arrDate.day=parseInt(t[1]),n.arrDate.year=getFlightYear(n.arrDate.day,n.arrDate.month));t=new Array;return 2==(t=exRE(e,/([0-9]{1,2})h\s([0-9]{1,2})m/g)).length&&(n.layoverduration=60*parseInt(t[0])+parseInt(t[1])),n}function readItinerary(e){var n=new Array,t=new Array,i=new Array,a=new Array,r=new Array,s=new Array,l=new Array,o=new Array,u="",g=document.getElementById("contentwrapper").innerHTML,d=exRE(g,S=/colspan\=\"5\"[^\(]+\(([\w]{3})[^\(]+\(([\w]{3})/g);for(E=0;E<d.length;E+=2){var c={arr:{},dep:{}};c.orig=d[E],c.dest=d[E+1],c.seg=new Array,i.push(c)}for(l=exRE(g,S=/Carrier\s([\w]{2})\s([\w]+).*?Covers\s([\w\(\)\s\-,]+)/g),o={c:"",f:"",l:new Array},E=0;E<l.length;E+=3)for(o.c=l[E],o.f=l[E+1],r.push(o.f),o.l=exRE(l[E+2],/(\w\w\w\-\w\w\w)/g),f=0;f<o.l.length;f++)s.push(o.l[f]+"-"+o.f+"-"+o.c);var m=new Array;m=exRE(g,S=/35px\/(\w{2}).png[^\(]+\(([A-Z]{3})[^\(]+\(([A-Z]{3})[^\,]*\,\s*([a-zA-Z]{3})\s*([0-9]{1,2}).*?gwt-Label.*?([0-9]*)\<.*?Dep:[^0-9]+(.*?)\<.*?Arr:[^0-9]+(.*?)\<.*?([0-9]{1,2})h\s([0-9]{1,2})m.*?gwt-Label.*?\>(.*?)\<.*?gwt-Label\"\>(\w).*?\((\w)\).*?\<.*?tr(.*?)(table|airline_logos)/g);var p=0,v=0;for(E=0;E<m.length;E+=15){(l={}).carrier=m[E],l.orig=m[E+1],l.dest=m[E+2],l.dep={},l.arr={},l.dep.month=monthnameToNumber(m[E+3]),l.dep.day=parseInt(m[E+4]),l.dep.year=getFlightYear(l.dep.day,l.dep.month),l.fnr=m[E+5],"24h"==mptUserSettings.timeformat&&(n.push(m[E+6]),n.push(m[E+7])),m[E+6]=return12htime(m[E+6]),m[E+7]=return12htime(m[E+7]),"24h"==mptUserSettings.timeformat&&(t.push((4==m[E+6].length?"0":"")+m[E+6]),t.push((4==m[E+7].length?"0":"")+m[E+7])),l.dep.time=m[E+6],l.arr.time=m[E+7],l.duration=60*parseInt(m[E+8])+parseInt(m[E+9]),l.aircraft=m[E+10],l.cabin=getcabincode(m[E+11]),l.bookingclass=m[E+12];var h=parseAddInfo(m[E+13]);""!=h.arrDate?(l.arr.day=h.arrDate.day,l.arr.month=h.arrDate.month,l.arr.year=h.arrDate.year):(l.arr.day=l.dep.day,l.arr.month=l.dep.month,l.arr.year=l.dep.year),l.codeshare=h.codeshare,l.layoverduration=h.layoverduration,l.airportchange=h.airportchange,l.farebase="",l.farecarrier="";for(var f=0;f<s.length;f++)if(-1!=s[f].indexOf(l.orig+"-"+l.dest+"-")){o=s[f].split("-");l.farebase=o[2],l.farecarrier=o[3],s[f]=l.farebase,f=s.length}void 0===i[p]&&(i[p]=new Object),void 0===i[p].seg&&(i[p].seg=new Array),i[p].seg.push(l),inArray(l.carrier,a)||a.push(l.carrier),0==v&&(void 0===i[p].dep&&(i[p].dep=new Object),i[p].dep.day=l.dep.day,i[p].dep.month=l.dep.month,i[p].dep.year=l.dep.year,i[p].dep.time=l.dep.time),void 0===i[p].arr&&(i[p].arr=new Object),i[p].arr.day=l.arr.day,i[p].arr.month=l.arr.month,i[p].arr.year=l.arr.year,i[p].arr.time=l.arr.time,v++,"table"==m[E+14]&&(p++,v=0)}for(var E=0;E<s.length;E++){var I=s[E].split("-");if(I.length>1){for(o=0,p=0;p<i.length;p++){for(v=0;v<i[p].seg.length;v++)if(i[p].seg[v].orig==I[0]&&i[p].seg[v].dest==I[1]&&""==i[p].seg[v].farebase)i[p].seg[v].farebase=I[2],i[p].seg[v].farecarrier=I[3],s[E]=I[2],v=i[p].seg.length,o=1;else if(i[p].seg[v].orig==I[0]&&i[p].seg[v].dest!=I[1]&&""==i[p].seg[v].farebase)for(f=v+1;f<i[p].seg.length;f++)if(i[p].seg[f].dest==I[1]&&""==i[p].seg[f].farebase){for(var b=v;b<=f;b++)i[p].seg[b].farebase=I[2],i[p].seg[b].farecarrier=I[3],s[E]=I[2];f=i[p].seg.length,v=i[p].seg.length,o=1}else""!=i[p].seg[v+f].farebase&&(f=i[p].seg.length);1==o&&(p=i.length)}0==o&&printNotification("Unused fare:"+s[E])}}var S,A=new Array;for(A=exRE(g,S=/Mileage.*?([0-9,]+)\stotal\smiles.*?Total\scost\sfor\s([0-9])\spassenger.*?<div.*?>(.*?([1-9][0-9,.]+)[^\<]*)/g),E=0;E<matrixCurrencies.length;E++)!0===matrixCurrencies[E].p.test(A[2])&&(u=matrixCurrencies[E].c,E=matrixCurrencies.length);if(currentItin={itin:i,price:Number(A[3].replace(/\,/,"")),numPax:Number(A[1]),carriers:a,cur:u,farebases:r,dist:Number(A[0].replace(/\,/,""))},n.length>0&&!0===e)for(target=findtarget(classSettings.resultpage.itin,1).nextSibling.nextSibling,E=0;E<n.length;E++)S=new RegExp(n[E],"g"),target.innerHTML=target.innerHTML.replace(S,t[E])}function translate(e,n,t){if(void 0===translations[n])return printNotification("Error: Translation "+n+" not found"),!1;if(void 0===translations[n][e])return printNotification("Error: Translation "+n+" not found for page "+e),!1;for(i in translations[n][e])re=new RegExp(i,"g"),t.innerHTML=t.innerHTML.replace(re,translations[n][e][i])}function printCPM(){printItemInline((Number(currentItin.price)/Number(currentItin.dist)).toFixed(4)+" cpm","",1)}function getAmadeusUrl(e){null===e&&"object"!=typeof e&&((e=new Object).sepcabin=1,e.detailed=0,e.inctimes=1,e.enablesegskip=1,e.allowpremium=1),e.sepcabin=void 0===e.sepcabin?1:e.sepcabin,e.detailed=void 0===e.detailed?0:e.detailed,e.inctimes=void 0===e.inctimes?1:e.inctimes,e.enablesegskip=void 0===e.enablesegskip?1:e.enablesegskip,e.allowpremium=void 0===e.allowpremium?1:e.allowpremium;var n=0,t=0,i=0,a="",r=0,s="",l="",o=["E","N","B","F"];o[1]=1!=e.allowpremium?o[0]:o[1];for(var u=0;u<currentItin.itin.length;u++){i=3,t=currentItin.itin[u].seg[0].cabin;for(var g=0;g<currentItin.itin[u].seg.length;g++){for(var d=0;g+d<currentItin.itin[u].seg.length-1&&!(currentItin.itin[u].seg[g+d].fnr!=currentItin.itin[u].seg[g+d+1].fnr||currentItin.itin[u].seg[g+d].layoverduration>=1440||0==e.enablesegskip);)d++;(++i>3||currentItin.itin[u].seg[g].cabin!=t&&1==e.sepcabin)&&(""!=a&&(s+="&E_LOCATION_"+n+"="+a,s+="&E_DATE_"+n+"="+l),i=1,s+="&B_LOCATION_"+ ++n+"="+currentItin.itin[u].seg[g].orig,s+="&B_ANY_TIME_"+n+"=FALSE",s+="&B_DATE_"+n+"="+currentItin.itin[u].seg[g].dep.year+("0"+currentItin.itin[u].seg[g].dep.month).slice(-2)+("0"+currentItin.itin[u].seg[g].dep.day).slice(-2)+(1==e.inctimes?("0"+currentItin.itin[u].seg[g].dep.time.replace(":","")).slice(-4):"0000"),s+="&CABIN_"+n+"="+o[currentItin.itin[u].seg[g].cabin],s+="&ALLOW_ALTERNATE_AVAILABILITY_"+n+"=FALSE",s+="&DATE_RANGE_VALUE_"+n+"=0"),l=currentItin.itin[u].seg[g+d].arr.year+("0"+currentItin.itin[u].seg[g+d].arr.month).slice(-2)+("0"+currentItin.itin[u].seg[g+d].arr.day).slice(-2)+(1==e.inctimes?("0"+currentItin.itin[u].seg[g+d].arr.time.replace(":","")).slice(-4):"0000"),1===e.detailed&&(s+="&B_LOCATION_"+n+"_"+i+"="+currentItin.itin[u].seg[g].orig,s+="&B_LOCATION_CITY_"+n+"_"+i+"="+currentItin.itin[u].seg[g].orig,s+="&B_DATE_"+n+"_"+i+"="+currentItin.itin[u].seg[g].dep.year+("0"+currentItin.itin[u].seg[g].dep.month).slice(-2)+("0"+currentItin.itin[u].seg[g].dep.day).slice(-2)+(1==e.inctimes?("0"+currentItin.itin[u].seg[g].dep.time.replace(":","")).slice(-4):"0000"),s+="&E_LOCATION_"+n+"_"+i+"="+currentItin.itin[u].seg[g+d].dest,s+="&E_LOCATION_CITY_"+n+"_"+i+"="+currentItin.itin[u].seg[g+d].dest,s+="&E_DATE_"+n+"_"+i+"="+l),s+="&AIRLINE_"+n+"_"+i+"="+currentItin.itin[u].seg[g].carrier,s+="&FLIGHT_NUMBER_"+n+"_"+i+"="+currentItin.itin[u].seg[g].fnr,s+="&RBD_"+n+"_"+i+"="+currentItin.itin[u].seg[g].bookingclass,s+="&FARE_CLASS_"+n+"_"+i+"="+currentItin.itin[u].seg[g].farebase,a=currentItin.itin[u].seg[g+d].dest,t=currentItin.itin[u].seg[g].cabin,currentItin.itin[u].seg[g].cabin>r&&(r=currentItin.itin[u].seg[g].cabin),g+=d}}return s+="&E_LOCATION_"+n+"="+a,s+="&E_DATE_"+n+"="+l,s+="&CABIN="+o["Auto"===mptSettings.cabin?r:getForcedCabin()]}function getAmadeusPax(e,n){null===n&&"object"!=typeof n&&((n=new Object).allowinf=1,n.youthage=0),n.allowinf=void 0===n.allowinf?1:n.allowinf,n.youthage=void 0===n.sepyouth?0:n.sepyouth;var t={c:0,y:0},a=1,r="&IS_PRIMARY_TRAVELLER_1=True";for(i=0;i<e.children.length;i++)e.children[i]>=n.youthage&&n.youthage>0?t.y++:e.children[i]>=12?e.adults++:t.c++;for(i=0;i<e.adults;i++)r+="&TRAVELER_TYPE_"+a+"=ADT",r+="&HAS_INFANT_"+a+"="+(i<e.infLap&&1==n.allowinf?"True":"False"),r+="&IS_YOUTH_"+a+"=False",a++;for(i=0;i<t.y;i++)r+="&TRAVELER_TYPE_"+a+"=ADT",r+="&HAS_INFANT_"+a+"=False",r+="&IS_YOUTH_"+a+"=True",a++;for(i=0;i<t.c;i++)r+="&TRAVELER_TYPE_"+a+"=CHD",r+="&HAS_INFANT_"+a+"=False",r+="&IS_YOUTH_"+a+"=False",a++;return{url:r,adults:e.adults,youth:t.y,children:t.c,infants:e.infLap}}function getAmadeusTriptype(){return currentItin.itin.length>1?2==currentItin.itin.length&&currentItin.itin[0].orig==currentItin.itin[1].dest&&currentItin.itin[0].dest==currentItin.itin[1].orig?"R":"M":"O"}function printAA(){var e=function(e){for(var n="http://i11l-services.aa.com/xaa/mseGateway/entryPoint.php?PARAM=",t="1,,USD0.00,"+currentItin.itin.length+",",i=new Array,a="",r=new Array,s="",l=0;l<currentItin.itin.length;l++){r=new Array;for(var o=0;o<currentItin.itin[l].seg.length;o++){for(var u=0;o+u<currentItin.itin[l].seg.length-1&&!(currentItin.itin[l].seg[o+u].fnr!=currentItin.itin[l].seg[o+u+1].fnr||currentItin.itin[l].seg[o+u].layoverduration>=1440);)u++;s=currentItin.itin[l].seg[o+u].arr.year+"-"+("0"+currentItin.itin[l].seg[o+u].arr.month).slice(-2)+"-"+("0"+currentItin.itin[l].seg[o+u].arr.day).slice(-2)+"T"+("0"+currentItin.itin[l].seg[o+u].arr.time).slice(-5)+(void 0===currentItin.itin[l].seg[o+u].arr.offset?"+00:00":currentItin.itin[l].seg[o+u].arr.offset)+",",s+=currentItin.itin[l].seg[o].bookingclass+",",s+=currentItin.itin[l].seg[o].dep.year+"-"+("0"+currentItin.itin[l].seg[o].dep.month).slice(-2)+"-"+("0"+currentItin.itin[l].seg[o].dep.day).slice(-2)+"T"+("0"+currentItin.itin[l].seg[o].dep.time).slice(-5)+(void 0===currentItin.itin[l].seg[o].dep.offset?"+00:00":currentItin.itin[l].seg[o].dep.offset)+",",s+=currentItin.itin[l].seg[o+u].dest+",",s+=currentItin.itin[l].seg[o].carrier+currentItin.itin[l].seg[o].fnr+",",s+=currentItin.itin[l].seg[o].orig,r.push(s),o+=u}t+=r.length+","+r.join()+",",a=currentItin.itin[l].dep.year+"-"+("0"+currentItin.itin[l].dep.month).slice(-2)+"-"+("0"+currentItin.itin[l].dep.day).slice(-2)+",",a+=currentItin.itin[l].dest+",,",a+=currentItin.itin[l].orig+",",i.push(a)}t+="DIRECT,",t+=e[0].toUpperCase()+",",t+="3,";var g=validatePaxcount({maxPaxcount:7,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});return!1===g?(printNotification("Error: Failed to validate Passengers in printAA"),!1):(t+=g.adults+",",t+=g.children.length+",",t+=g.infLap+",",t+="0,",t+=e[1].toUpperCase()+",",t+=currentItin.itin.length+","+i.join(),n+=encodeURIComponent(t))},n=mptUserSettings.aaEdition.split("_");if(2!=n.length)return printNotification("Error:Invalid AA-Edition"),!1;var t=e(n);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=aaEditions.map(function(n,t){return'<a href="'+e(n.value.split("_"))+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"American","Europe/Asia/Pacific",null,i):printUrl(t,"American","Europe/Asia/Pacific",i)}function printAAc1(){var e=function(e,n,t){var i=e+"-"+("0"+n).slice(-2)+"-"+("0"+t).slice(-2)+"T00:00:00-06:00";return Date.parse(i)},n=function(n){var t=validatePaxcount({maxPaxcount:6,countInf:!0,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===t)return printNotification("Error: Failed to validate Passengers in printAAc1"),!1;var i="https://www.aa.com/goto/metasearch?ITEN=GOOGLE,,US,";1===currentItin.itin.length?i+="oneWay":i+="multi",i+=",4,A"+t.adults+"S0C"+t.children.length+"I"+t.infLap+"Y0L0,0,",i+=currentItin.itin[0].orig+",0,"+currentItin.itin[0].dest,i+=",0";for(var a=0;a<currentItin.itin.length;a++)i+=",false,"+e(currentItin.itin[a].seg[0].dep.year,currentItin.itin[a].seg[0].dep.month,currentItin.itin[a].seg[0].dep.day);if(currentItin.itin.length>1&&(i+=",0,0"),i+=","+currentItin.price+",1,",currentItin.itin.length>1){var r="";for(a=0;a<currentItin.itin.length;a++)r+="#"+currentItin.itin[a].orig+"|"+currentItin.itin[a].dest+"|0|0|",r+=e(currentItin.itin[a].seg[0].dep.year,currentItin.itin[a].seg[0].dep.month,currentItin.itin[a].seg[0].dep.day);i+=encodeURIComponent(r)+","}var s=new Array;for(a=0;a<currentItin.itin.length;a++)for(var l=0;l<currentItin.itin[a].seg.length;l++){for(var o=0;l+o<currentItin.itin[a].seg.length-1&&!(currentItin.itin[a].seg[l+o].fnr!==currentItin.itin[a].seg[l+o+1].fnr||currentItin.itin[a].seg[l+o].layoverduration>=1440);)o++;var u="#"+currentItin.itin[a].seg[l].carrier+"|"+currentItin.itin[a].seg[l].fnr+"|"+currentItin.itin[a].seg[l].bookingclass;u+="|"+currentItin.itin[a].seg[l].orig,u+="|"+currentItin.itin[a].seg[l+o].dest,u+="|"+Date.parse(currentItin.itin[a].seg[l].dep.year+"-"+("0"+currentItin.itin[a].seg[l].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].seg[l].dep.day).slice(-2)+"T"+("0"+currentItin.itin[a].seg[l].dep.time).slice(-5)+":00"+(void 0===currentItin.itin[a].seg[l].dep.offset?"+00:00":currentItin.itin[a].seg[l].dep.offset)),u+="|"+a,s.push(u),l+=o}return i+=encodeURIComponent(s.join(""))},t=n(mptUserSettings.aac1Edition.toUpperCase());if(!1===t)return!1;aac1Editions.map(function(e,t){return'<a href="'+n(e.value.toUpperCase())+'" target="_blank">'+e.name+"</a>"}).join("<br/>"),1===mptUserSettings.enableInlineMode?printUrlInline(t,"American","America & UK",""):printUrl(t,"American","America & UK","")}function addACPromo(){window.addACPromo=function(){var e=document.getElementById("ac-promo-input");e.style.display="inline",e.addEventListener("change",e=>{var n=""!=e.target.value?"&AUTHORIZATION_ID="+e.target.value:"",t=document.getElementById("ac-promo-link"),i=t.href.match(/(&AUTHORIZATION_ID=.*)/g);null==i?t.href+=n:t.href=t.href.replace(i,n)}),document.getElementById("ac-promo-link").style.display="inline"}}function addACPromoControls(e){var n=document.createElement("script");n.appendChild(document.createTextNode("("+addACPromo+")();")),(document.body||document.head||document.documentElement).appendChild(n);var t="Open";void 0!==translations[mptUserSettings.language]&&void 0!==translations[mptUserSettings.language].open&&(t=translations[mptUserSettings.language].open);var i='<input type="input" id="ac-promo-input" size="8" style="display:none;margin:0 5px;"></input>';return i+='<label style="font-size:'+Number(mptUserSettings.linkFontsize)+'%;">',i+='<a id="ac-promo-link" style="display:none" target="_blank" href="'+e+'">'+t+"</a></label>"}function printAC(){var e=function(e){var n="https://book.aircanada.com/pl/AConline/en/RedirectionServlet?FareRequest=YES&PRICING_MODE=0&fromThirdParty=YES";n+="&country="+e+"&countryOfResidence="+e+("de"==mptSettings.itaLanguage||"de"==mptUserSettings.language?"&language=de":"&language=en");var t=validatePaxcount({maxPaxcount:9,countInf:!0,childAsAdult:16,sepInfSeat:!1,childMinAge:2});if(!1===t)return printNotification("Error: Failed to validate Passengers in printAC"),!1;var i=getAmadeusPax(t,{allowinf:0,youthage:12});n+=i.url,n+="&numberOfAdults="+i.adults,n+="&numberOfInfants="+i.infants,n+="&numberOfYouth="+i.youth,n+="&numberOfChildren="+i.children,n+="&tripType="+getAmadeusTriptype();for(var a=0;a<currentItin.itin.length;a++)n+="&departure"+(a+1)+"="+("0"+currentItin.itin[a].dep.day).slice(-2)+"/"+("0"+currentItin.itin[a].dep.month).slice(-2)+"/"+currentItin.itin[a].dep.year+"&org"+(a+1)+"="+currentItin.itin[a].orig+"&dest"+(a+1)+"="+currentItin.itin[a].dest;return n+=getAmadeusUrl({sepcabin:1,detailed:1,allowpremium:1})},n=e(mptUserSettings.acEdition.toUpperCase());if(!1===n)return!1;var t=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';t+=acEditions.map(function(n,t){return'<a href="'+e(n.toUpperCase())+'" target="_blank">'+n+"</a>"}).join("<br/>"),t+='<br/><a href="javascript:addACPromo();">Add Promo Code</a>',t+="</span></span>",t+=addACPromoControls(n),1==mptUserSettings.enableInlineMode?printUrlInline(n,"Air Canada","",null,t):printUrl(n,"Air Canada","",t)}function printAF(){var e=function(e){for(var n=3,t="https://www.airfrance.com/"+e+"/local/process/standardbooking/DisplayUpsellAction.do?calendarSearch=1&subCabin=MCHER&typeTrip=2",i=0;i<currentItin.itin.length;i++)if(0==i){t+="&from="+currentItin.itin[i].orig,t+="&to="+currentItin.itin[i].dest,t+="&outboundDate="+currentItin.itin[i].dep.year+"-"+("0"+currentItin.itin[i].dep.month).slice(-2)+"-"+("0"+currentItin.itin[i].dep.day).slice(-2),t+="&firstOutboundHour="+("0"+currentItin.itin[i].dep.time).slice(-5),flights="";for(var a=0;a<currentItin.itin[i].seg.length;a++)a>0&&(flights+="|"),flights+=currentItin.itin[i].seg[a].carrier+("000"+currentItin.itin[i].seg[a].fnr).slice(-4);t+="&flightOutbound="+flights}else if(1==i){t+="&inboundDate="+currentItin.itin[i].dep.year+"-"+("0"+currentItin.itin[i].dep.month).slice(-2)+"-"+("0"+currentItin.itin[i].dep.day).slice(-2),t+="&firstInboundHour="+("0"+currentItin.itin[i].dep.time).slice(-5),flights="";for(a=0;a<currentItin.itin[i].seg.length;a++)a>0&&(flights+="|"),flights+=currentItin.itin[i].seg[a].carrier+("000"+currentItin.itin[i].seg[a].fnr).slice(-4),currentItin.itin[i].seg[a].cabin<n&&(n=currentItin.itin[i].seg[a].cabin);t+="&flightInbound="+flights}t+="&cabin="+["Y","W","C","F"]["Auto"===mptSettings.cabin?n:getForcedCabin()];var r=validatePaxcount({maxPaxcount:9,countInf:!0,childAsAdult:18,sepInfSeat:!1,childMinAge:2});if(!1===r)return printNotification("Error: Failed to validate Passengers in printAF"),!1;var s={c:0,y:0};for(i=0;i<r.children.length;i++)r.children[i]>11?s.y++:s.c++;var l=0;for(t+="&nbAdults="+r.adults,i=0;i<r.adults;i++)t+="&paxTypoList=ADT",l++;for(t+="&nbEnfants="+s.y,i=0;i<s.y;i++)t+="&paxTypoList=YTH_MIN",l++;for(t+="&nbChildren="+s.c,i=0;i<s.y;i++)t+="&paxTypoList=CHD",l++;for(t+="&nbBebes="+r.infLap,i=0;i<r.infLap;i++)t+="&paxTypoList=INF",l++;return t+="&nbPassenger="+l+"&nbPax="+l},n=mptUserSettings.afEdition,t=e(n);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=afEditions.map(function(n,t){return'<a href="'+e(n.value)+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Air France","",null,i):printUrl(t,"Air France","",i)}function printAS(){var e=function(){var e=validatePaxcount({maxPaxcount:6,countInf:!0,childAsAdult:6,sepInfSeat:!1,childMinAge:2});if(!1===e)return printNotification("Error: Failed to validate Passengers in printAAc1"),!1;var n="https://www.alaskaair.com/planbook/shoppingstart?";n+="A="+e.adults+"&C="+e.children.length+"&FT=",1==currentItin.itin.length?n+="ow":n+="rt";for(var t=0,i=0;i<currentItin.itin.length;i++)for(var a=0;a<currentItin.itin[i].seg.length;a++){var r=currentItin.itin[i].seg[a].orig+"|"+currentItin.itin[i].seg[a].dest;r+="|"+("0"+currentItin.itin[i].seg[a].dep.month).slice(-2)+"/"+("0"+currentItin.itin[i].seg[a].dep.day).slice(-2),r+="/"+currentItin.itin[i].seg[a].dep.year,r+="|"+currentItin.itin[i].seg[a].fnr+"|",r+=currentItin.itin[i].seg[a].cabin?"f":"c",n+="&F"+ ++t+"="+encodeURIComponent(r)}return n+="&DEST="+currentItin.itin[0].seg[currentItin.itin[0].seg.length-1].dest,n+="&FARE="+currentItin.price+"&frm=cart&META=GOO_CS"}();if(!1===e)return!1;1==mptUserSettings.enableInlineMode?printUrlInline(e,"Alaska",""):printUrl(e,"Alaska","")}function printAZ(){var e=function(e){for(var n="https://www.alitalia.com/"+e+"/home-page.metasearch.json?SearchType=BrandMetasearch",t=["Economy","Economy","Business","First"],i=0,a=0;a<currentItin.itin.length;a++)for(var r=0;r<currentItin.itin[a].seg.length;r++)n+="&MetaSearchDestinations["+i+"].From="+currentItin.itin[a].seg[r].orig,n+="&MetaSearchDestinations["+i+"].To="+currentItin.itin[a].seg[r].dest,n+="&MetaSearchDestinations["+i+"].DepartureDate="+currentItin.itin[a].seg[r].dep.year+"-"+("0"+currentItin.itin[a].seg[r].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].seg[r].dep.day).slice(-2)+":"+("0"+currentItin.itin[a].seg[r].dep.time).slice(-5),n+="&MetaSearchDestinations["+i+"].ArrivalDate="+currentItin.itin[a].seg[r].arr.year+"-"+("0"+currentItin.itin[a].seg[r].arr.month).slice(-2)+"-"+("0"+currentItin.itin[a].seg[r].arr.day).slice(-2)+":"+("0"+currentItin.itin[a].seg[r].arr.time).slice(-5),n+="&MetaSearchDestinations["+i+"].Flight="+currentItin.itin[a].seg[r].fnr,n+="&MetaSearchDestinations["+i+"].code="+currentItin.itin[a].seg[r].farebase,n+="&MetaSearchDestinations["+i+"].MseType=",n+="&MetaSearchDestinations["+i+"].bookingClass="+currentItin.itin[a].seg[r].bookingclass,n+="&MetaSearchDestinations["+i+"].cabinClass="+t[currentItin.itin[a].seg[r].cabin],n+="&MetaSearchDestinations["+i+"].slices="+a,i++;var s=validatePaxcount({maxPaxcount:7,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});return!1===s?(printNotification("Error: Failed to validate Passengers in printAZ"),!1):n+="&children_number="+s.children.length+"&newborn_number="+s.infLap+"&adult_number="+s.adults},n=mptUserSettings.azEdition,t=e(n);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=azEditions.map(function(n,t){return'<a href="'+e(n.value)+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Alitalia","",null,i):printUrl(t,"Alitalia","",i)}function printBA(){var e=function(e,n){var t=["M","W","C","F"],i=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:16,sepInfSeat:!1,childMinAge:2});if(!1===i)return printNotification("Error: Failed to validate Passengers in printBA"),!1;var a={c:0,y:0};for(l=0;l<i.children.length;l++)i.children[l]>11?a.y++:a.c++;for(var r="https://www.britishairways.com/travel/fx/public/"+n+"_"+e+"?eId=111054&data=F"+i.adults+a.y+a.c+i.infLap+"LF",s=3,l=0;l<currentItin.itin.length;l++)for(var o=0;o<currentItin.itin[l].seg.length;o++){for(var u=0;o+u<currentItin.itin[l].seg.length-1&&!(currentItin.itin[l].seg[o+u].fnr!=currentItin.itin[l].seg[o+u+1].fnr||currentItin.itin[l].seg[o+u].layoverduration>=1440);)u++;r+=("0"+currentItin.itin[l].seg[o].dep.day).slice(-2)+("0"+currentItin.itin[l].seg[o].dep.month).slice(-2)+currentItin.itin[l].seg[o].dep.year+("0"+currentItin.itin[l].seg[o].dep.time.replace(":","")).slice(-4),r+=currentItin.itin[l].seg[o].carrier+("000"+currentItin.itin[l].seg[o].fnr).slice(-4),r+=t[currentItin.itin[l].seg[o].cabin],r+=currentItin.itin[l].seg[o].orig+currentItin.itin[l].seg[o+u].dest,2==currentItin.itin.length&&1==l?r+="F":r+="T",currentItin.itin[l].seg[o].cabin<s&&(s=currentItin.itin[l].seg[o].cabin),o+=u}return r+="&p=EUR6666.66&e=FP&c="+t["Auto"===mptSettings.cabin?s:getForcedCabin()]+"&source=FareQuoteEmail&isEmailHBOFareQuote=false"},n=e(mptUserSettings.baEdition,mptUserSettings.baLanguage);if(!1===n)return!1;var t=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';t+=baEditions.map(function(n,t){return'<a href="'+e(n.value,mptUserSettings.baLanguage)+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),t+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(n,"British Airways","",null,t):printUrl(n,"British Airways","",t)}function printCZ(){var e=function(e){var n=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===n)return printNotification("Error: Failed to validate Passengers in printCZ"),!1;var t="http://global.csair.com/CZPortal/dyn/portal/doEnc?SITE=J00YJ00Y&BOOKING_FLOW=REVENUE&IS_FLEXIBLE=FALSE&LANGUAGE="+e[1]+"&PRICING_TYPE=O&COUNTRY_SITE="+e[0]+"&DISPLAY_TYPE=1",i=getAmadeusPax(n,{allowinf:1,youthage:0});return t+=i.url,t+="&NB_ADT="+i.adults,t+="&NB_INF="+i.infants,t+="&NB_CHD="+i.children,t+="&TRIP_TYPE=M",t+=getAmadeusUrl({sepcabin:0,detailed:0,allowpremium:0,inctimes:0})},n=mptUserSettings.czEdition.split("-");if(2!=n.length)return printNotification("Error:Invalid CZ-Edition"),!1;var t=e(n);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=czEditions.map(function(n,t){return'<a href="'+e(n.value.split("-"))+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"China Southern","",null,i):printUrl(t,"China Southern","",i)}function printDL(){var e=function(e){var n=["MAIN","DPPS","BU","FIRST"],t=3,i=new Array,a=validatePaxcount({maxPaxcount:9,countInf:!0,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===a)return printNotification("Error: Failed to validate Passengers in printDL"),!1;var r="http://"+e[0]+".delta.com/air-shopping/priceTripAction.action?ftw_reroute=true&tripType=multiCity";r+="&currencyCd="+("EUR"==currentItin.cur?"EUR":"USD"),r+="&exitCountry="+e[1];for(var s=0,l=0;l<currentItin.itin.length;l++)for(var o=0;o<currentItin.itin[l].seg.length;o++){switch(r+="&itinSegment["+s.toString()+"]="+l.toString()+":"+currentItin.itin[l].seg[o].bookingclass,r+=":"+currentItin.itin[l].seg[o].orig+":"+currentItin.itin[l].seg[o].dest+":"+currentItin.itin[l].seg[o].carrier+":"+currentItin.itin[l].seg[o].fnr,r+=":"+monthnumberToName(currentItin.itin[l].seg[o].dep.month)+":"+(currentItin.itin[l].seg[o].dep.day<10?"0":"")+currentItin.itin[l].seg[o].dep.day+":"+currentItin.itin[l].seg[o].dep.year+":0",i.push(currentItin.itin[l].seg[o].farebase),currentItin.itin[l].seg[o].cabin<t&&(t=currentItin.itin[l].seg[o].cabin),currentItin.itin[l].seg[o].bookingclass){case"E":n[0]="BASIC-ECONOMY";break;case"W":n[1]="DCP"}s++}return r+="&cabin="+n["Auto"===mptSettings.cabin?t:getForcedCabin()],r+="&fareBasis="+i.join(":"),r+="&numOfSegments="+s.toString()+"&paxCount="+(a.adults+a.children.length+a.infLap),r+="&vendorRedirectFlag=true&vendorID=Google"},n=mptUserSettings.dlEdition.split("_");if(2!=n.length)return printNotification("Error:Invalid Delta-Edition"),!1;var t=e(n);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=dlEditions.map(function(n,t){return'<a href="'+e(n.value.split("_"))+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Delta","",null,i):printUrl(t,"Delta","",i)}function printIB(){var e=function(e,n){var t=["Economy","Economy","Business","First"],i=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===i)return printNotification("Error: Failed to validate Passengers in printIB"),!1;var a="http://www.iberia.com/web/partnerLink.do?Adult="+i.adults+"&Child="+i.children.length+"&Infant=0&InfantLap="+i.infLap+"&PointOfSaleCountry="+e[1]+"&UserCurrency="+n+"&UserLanguage="+e[0]+"&TripType=";1==currentItin.itin.length?a+="OneWay":2==currentItin.itin.length&&currentItin.itin[0].orig==currentItin.itin[1].dest&&currentItin.itin[0].dest==currentItin.itin[1].orig?a+="RoundTrip":a+="MultiCity";for(var r=0,s=1,l="",o=0;o<currentItin.itin.length;o++){for(var u=0;u<currentItin.itin[o].seg.length;u++){r++;for(var g=0;u+g<currentItin.itin[o].seg.length-1&&!(currentItin.itin[o].seg[u+g].fnr!=currentItin.itin[o].seg[u+g+1].fnr||currentItin.itin[o].seg[u+g].layoverduration>=1440);)g++;a+="&Origin"+r+"="+currentItin.itin[o].seg[u].orig,a+="&Destination"+r+"="+currentItin.itin[o].seg[u+g].dest,a+="&Carrier"+r+"="+currentItin.itin[o].seg[u].carrier,a+="&DepartureDate"+r+"="+currentItin.itin[o].seg[u].dep.year+"-"+("0"+currentItin.itin[o].seg[u].dep.month).slice(-2)+"-"+("0"+currentItin.itin[o].seg[u].dep.day).slice(-2),a+="&FlightNumber"+r+"="+currentItin.itin[o].seg[u].fnr,a+="&BookingCode"+r+"="+currentItin.itin[o].seg[u].bookingclass,a+="&Cabin"+r+"="+t[currentItin.itin[o].seg[u].cabin],l+=(""===l?"":"%2C")+r,u+=g}a+="&Slice"+s+"="+l,s++,l=""}return a},n=mptUserSettings.ibEdition.split("-"),t=e(n,mptUserSettings.ibCurrency);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=ibEditions.map(function(n,t){return'<a href="'+e(n.value.split("-"),mptUserSettings.ibCurrency)+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Iberia","",null,i):printUrl(t,"Iberia","",i)}function printKL(){var e=function(e){var n="https://www.klm.com/travel/";n+=e[0]+"_"+e[1]+"/apps/ebt/ebt_home.htm?lang="+e[1].toUpperCase(),n+="&dev=5&cffcc=ECONOMY";var t=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===t)return printNotification("Error: Failed to validate Passengers in printKL"),!1;n+="&adtQty="+t.adults+"&chdQty="+t.children.length+"&infQty="+t.infLap;for(var i="",a=0;a<currentItin.itin.length;a++){n+="&c["+a+"].os="+currentItin.itin[a].orig,n+="&c["+a+"].ds="+currentItin.itin[a].dest,n+="&c["+a+"].dd="+currentItin.itin[a].dep.year+"-"+("0"+currentItin.itin[a].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].dep.day).slice(-2),a>0&&"..";for(var r=0;r<currentItin.itin[a].seg.length;r++)n+="&c["+a+"].s["+r+"].os="+currentItin.itin[a].seg[r].orig,n+="&c["+a+"].s["+r+"].ds="+currentItin.itin[a].seg[r].dest,n+="&c["+a+"].s["+r+"].dd="+currentItin.itin[a].seg[r].dep.year+"-"+("0"+currentItin.itin[a].seg[r].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].seg[r].dep.day).slice(-2),n+="&c["+a+"].s["+r+"].dt="+("0"+currentItin.itin[a].seg[r].dep.time.replace(":","")).slice(-4),n+="&c["+a+"].s["+r+"].mc="+currentItin.itin[a].seg[r].carrier,n+="&c["+a+"].s["+r+"].fn="+("000"+currentItin.itin[a].seg[r].fnr).slice(-4),r>0&&".",currentItin.itin[a].seg[r].carrier}for(a=0;a<currentItin.farebases.length;a++)a>0&&(i+=","),i+=currentItin.farebases[a];return n+="&ref=fb="+i},n=mptUserSettings.klEdition.split("_");if(2!=n.length)return printNotification("Error:Invalid KLM-Edition"),!1;var t=e(n);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=klEditions.map(function(n,t){return'<a href="'+e(n.value.split("_"))+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"KLM","",null,i):printUrl(t,"KLM","",i)}function printLA(){var e=function(e){var n=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===n)return printNotification("Error: Failed to validate Passengers in printLA"),!1;for(var t='"trip":{"flights":[',i=0;i<currentItin.itin.length;i++){t+='{"amount":"'+currentItin.price+'","currency":"'+mptUserSettings.laCurrency+'","segments":[';for(var a=3,r=0;r<currentItin.itin[i].seg.length;r++){for(var s=0;r+s<currentItin.itin[i].seg.length-1&&!(currentItin.itin[i].seg[r+s].fnr!=currentItin.itin[i].seg[r+s+1].fnr||currentItin.itin[i].seg[r+s].layoverduration>=1440);)s++;t+='{"departure_airport":"'+currentItin.itin[i].seg[r].orig+'","flight_number":"'+currentItin.itin[i].seg[r].fnr+'","departure_date":"'+currentItin.itin[i].seg[r].dep.year.toString()+"-"+("0"+currentItin.itin[i].seg[r].dep.month.toString()).slice(-2)+"-"+("0"+currentItin.itin[i].seg[r].dep.day.toString()).slice(-2)+'","arrival_airport":"'+currentItin.itin[i].seg[r+s].dest+'","farebasis":"'+currentItin.itin[i].seg[r].farebase+'","marketing_airline":"'+currentItin.itin[i].seg[r].carrier+'","class":"'+currentItin.itin[i].seg[r].bookingclass+'","arrival_date":"'+currentItin.itin[i].seg[r].arr.year.toString()+"-"+("0"+currentItin.itin[i].seg[r].arr.month.toString()).slice(-2)+"-"+("0"+currentItin.itin[i].seg[r].arr.day.toString()).slice(-2)+'"},',currentItin.itin[i].seg[r].cabin<a&&(a=currentItin.itin[i].seg[r].cabin),r+=s}t=t.substring(0,t.length-1)+"]},"}var l='"passengers":{"numberAdults":"'+n.adults+'","numberInfants":"'+n.infLap+'","numberChildren":"'+n.children.length+'"},';return t="https://ssl.lan.com/cgi-bin/compra/paso4.cgi?forced_home="+e+"&sessionParameters=%7B"+encodeURIComponent(l)+encodeURIComponent(t.substring(0,t.length-1))+"]}}&utm_medium=metasearch&utm_source=gfs&utm_campaign=US_deeplink_s4&gclsrc=gf"},n=e(mptUserSettings.laEdition);if(!1===n)return!1;var t=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';t+=laEditions.map(function(n,t){return'<a href="'+e(n.value)+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),t+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(n,"LATAM",null,null,t):printUrl(n,"LATAM",null,t)}function printLH(){var e=function(e){var n=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===n)return printNotification("Error: Failed to validate Passengers in printLH"),!1;var t="https://book.lufthansa.com/lh/dyn/air-lh/revenue/availThenFare?";t+="WDS_MSE_PRICE_CURRENCY=EUR&WDS_MSE_TOTAL_PRICE=1.00&",t+="PORTAL=LH&COUNTRY_SITE="+e[0].toUpperCase()+"&POS="+e[0].toUpperCase()+"&LANGUAGE="+e[1].toUpperCase()+"&SECURE=TRUE&SITE=LUFTLUFT&SO_SITE_LH_FRONTEND_URL=www.lufthansa.com&WDS_WR_CHANNEL=LHCOM";var i=getAmadeusPax(n,{allowinf:1,youthage:0});return t+=i.url,t+="&NB_ADT="+i.adults,t+="&NB_INF="+i.infants,t+="&NB_CHD="+i.children,t+="&TRIP_TYPE="+getAmadeusTriptype(),t+=getAmadeusUrl({sepcabin:0,detailed:0,allowpremium:1,inctimes:0})},n=mptUserSettings.lhEdition.split("-");if(2!=n.length)return printNotification("Error:Invalid Lufthansa-Edition"),!1;var t=e(n);if(!1===t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=lhEditions.map(function(n,t){return'<a href="'+e(n.value.split("-"))+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Lufthansa","",null,i):printUrl(t,"Lufthansa","",i)}function printLX(){var e=["","","/class-business","/class-first"],n=3,t=function(t){var i="https://www.swiss.com/"+t[0]+"/"+t[1]+"/Book/Combined",a=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===a)return printNotification("Error: Failed to validate Passengers in printLX"),!1;for(var r=0;r<currentItin.itin.length;r++){i+="/"+currentItin.itin[r].orig+"-"+currentItin.itin[r].dest+"/";for(var s=0;s<currentItin.itin[r].seg.length;s++){for(var l=0;s+l<currentItin.itin[r].seg.length-1&&!(currentItin.itin[r].seg[s+l].fnr!=currentItin.itin[r].seg[s+l+1].fnr||currentItin.itin[r].seg[s+l].layoverduration>=1440);)l++;i+=currentItin.itin[r].seg[s].carrier+currentItin.itin[r].seg[s].fnr+"-",currentItin.itin[r].seg[s].cabin<n&&(n=currentItin.itin[r].seg[s].cabin),s+=l}i=i.substring(0,i.length-1),i+="/"+(r>0?"to":"from")+"-"+currentItin.itin[r].dep.year+"-"+("0"+currentItin.itin[r].dep.month).slice(-2)+"-"+("0"+currentItin.itin[r].dep.day).slice(-2)}return i+="/adults-"+a.adults+"/children-"+a.children.length+"/infants-"+a.infLap,i+=e["Auto"===mptSettings.cabin?n:getForcedCabin()]},i=mptUserSettings.lxEdition.split("_");if(2!=i.length)return printNotification("Error:Invalid Swiss-Edition"),!1;var a=t(i);if(!1===a)return!1;var r=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';r+=lxEditions.map(function(e,n){return'<a href="'+t(e.value.split("_"))+'" target="_blank">'+e.name+"</a>"}).join("<br/>"),r+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(a,"Swiss","",null,r):printUrl(a,"Swiss","",r)}function printQF(){console.log("begin printQF...");var e=function(e,n){var t=3,i=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:16,sepInfSeat:!1,childMinAge:2});if(!1===i)return printNotification("Error: Failed to validate Passengers in printQF"),!1;var a=i.children.length;a&&void 0!==a||(a=0),console.log("printQF: begin leg traversal...");for(var r="",s="&depAirports=",l="&destAirports=",o="&depAirports=",u="&destAirports=",g="",d=(currentItin.itin[0].seg[0].dest,0);d<currentItin.itin.length;d++){g+=""!==g&&g?"%2C"+currentItin.itin[d].dep.year.toString()+("0"+currentItin.itin[d].dep.month).slice(-2).toString()+("0"+currentItin.itin[d].dep.day).slice(-2).toString()+"0000":currentItin.itin[d].dep.year.toString()+("0"+currentItin.itin[d].dep.month).slice(-2).toString()+("0"+currentItin.itin[d].dep.day).slice(-2).toString()+"0000",o.length>13&&(o+="%2C"),o+=currentItin.itin[d].orig.toString(),u.length>14&&(u+="%2C"),u+=currentItin.itin[d].dest.toString();for(var c=0;c<currentItin.itin[d].seg.length;c++){for(var m=0;c+m<currentItin.itin[d].seg.length-1&&!(currentItin.itin[d].seg[c+m].fnr!=currentItin.itin[d].seg[c+m+1].fnr||currentItin.itin[d].seg[c+m].layoverduration>=1440);)m++;r+="&sdcFlightNumber"+(d+1)+(c+1)+"="+currentItin.itin[d].seg[c].carrier+currentItin.itin[d].seg[c].fnr,r+="&sdcSegmentRbd"+(d+1)+(c+1)+"="+currentItin.itin[d].seg[c].bookingclass,s.length>13&&(s+="%2C"),s+=currentItin.itin[d].seg[c].orig.toString(),l.length>14&&(l+="%2C"),l+=currentItin.itin[d].seg[c].dest.toString(),currentItin.itin[d].seg[c].cabin<t&&(t=currentItin.itin[d].seg[c].cabin),c+=m}}r+=o+u,r+="&travelDates="+g,r+="&sdcTripPriceAmount=0.00",r+="&QFdeviceType=desktop";var p="https://book.qantas.com/qf-booking/dyn/air/tripflow.redirect?APPLICATION_NAME=SDC";return p+="&USER_LANG=EN&USER_LOCALE="+e,p+="&travelClass="+["ECO","PRM","BUS","FIR"]["Auto"===mptSettings.cabin?t:getForcedCabin()],p+="&numberOfAdults="+i.adults+"&numberOfChildren="+a.toString()+"&numberOfInfants="+i.infLap,(p+="&sdcPriceCurrency="+n)+r},n=e(mptUserSettings.qfEdition,mptUserSettings.qfCurrency);if(!1===n)return!1;var t=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';t+=qfEditions.map(function(n,t){return'<a href="'+e(n.value,mptUserSettings.qfCurrency)+'" target="_blank">'+n.name+"</a>"}).join("<br/>"),t+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(n,"Qantas Airways","",null,t):printUrl(n,"Qantas Airways","",t)}function printTK(){var e="https://book.eu2.amadeus.com/plnext/turkishairlines/Override.action?",n=validatePaxcount({maxPaxcount:9,countInf:!1,childAsAdult:12,sepInfSeat:!1,childMinAge:2});if(!1===n)return printNotification("Error: Failed to validate Passengers in printTK"),!1;var t=getAmadeusPax(n,{allowinf:1,youthage:0});e+="TRIP_TYPE="+getAmadeusTriptype(),e+=t.url,e+=getAmadeusUrl({sepcabin:0,detailed:0,allowpremium:1,inctimes:1}),e+="&PORT_TSC=FALSE&SO_SITE_ALLOW_SERVICE_FEE=0&SO_SITE_SERVICE_FEE_MODE=AIR&SITE=BBAHBBAH",e+="&LANGUAGE="+("tk"==mptUserSettings.language||"de"==mptUserSettings.language?mptUserSettings.language.toUpperCase():"GB"),e+="&EMBEDDED_TRANSACTION=AirComplexAvailability&TRIPFLOW=YES",e+="SO_LANG_TRIPFLOW_ENTRY_ADDRE=online.turkishairlines.com%2Finternet-booking%2Famadeus.tk&ARRANGE_BY=N&DIRECT_NON_STOP=false&REFRESH=0&SO_SITE_TAX_BREAKDOWN_DISP=TRUE&SO_LANG_DISABLE_X_XSS_PROTEC=TRUE&SO_SITE_REDIRECT_MODE=AUTOMATIC&SO_LANG_URL_AIR_NFS_SRCH=http%3A%2F%2Fonline.turkishairlines.com%2Finternet-booking%2Fstart.tk",1==mptUserSettings.enableInlineMode?printUrlInline(e,"Turkish Airlines",""):printUrl(e,"Turkish Airlines","")}function printCheapOair(){var e=["Economy","PremiumEconomy","Business","First"],n="http://www.cheapoair.com/default.aspx?tabid=1832&ulang=en",t=validatePaxcount({maxPaxcount:9,countInf:!0,childAsAdult:12,sepInfSeat:!0,childMinAge:2});if(!1===t)return printNotification("Error: Failed to validate Passengers in printCheapOair"),!1;n+="&ad="+t.adults+"&ch="+t.children.length+"&il="+t.infLap+"&is="+t.infSeat;for(var i=0,a={},r=0;r<currentItin.itin.length;r++){a[r]="";for(var s=0;s<currentItin.itin[r].seg.length;s++)i++,a[r]&&(a[r]+=","),a[r]+=i,n+="&cbn"+i+"="+e["Auto"===mptSettings.cabin?e[currentItin.itin[r].seg[s].cabin]:getForcedCabin()],n+="&carr"+i+"="+currentItin.itin[r].seg[s].carrier,n+="&dd"+i+"="+currentItin.itin[r].seg[s].dep.year+("0"+currentItin.itin[r].seg[s].dep.month).slice(-2)+("0"+currentItin.itin[r].seg[s].dep.day).slice(-2),n+="&og"+i+"="+currentItin.itin[r].seg[s].orig,n+="&dt"+i+"="+currentItin.itin[r].seg[s].dest,n+="&fbc"+i+"="+currentItin.itin[r].seg[s].bookingclass,n+="&fnum"+i+"="+currentItin.itin[r].seg[s].fnr;n+="&Slice"+(r+1)+"="+a[r]}1==currentItin.itin.length?n+="&tt=OneWay":2==currentItin.itin.length&&currentItin.itin[0].orig==currentItin.itin[1].dest&&currentItin.itin[0].dest==currentItin.itin[1].orig?n+="&tt=RoundTrip":n+="&tt=MultiCity",1==mptUserSettings.enableInlineMode?printUrlInline(n,"CheapOair",""):printUrl(n,"CheapOair","")}function printPriceline(){for(var e="https://www.priceline.com/m/fly/search",n="~",t=0;t<currentItin.itin.length;t++){n=n.substring(0,n.length-1)+"-",e+="/"+currentItin.itin[t].orig,e+="-"+currentItin.itin[t].dest,e+="-"+currentItin.itin[t].arr.year.toString()+("0"+currentItin.itin[t].dep.month).slice(-2)+("0"+currentItin.itin[t].dep.day).slice(-2);for(var i=0;i<currentItin.itin[t].seg.length;i++){for(var a=0;i+a<currentItin.itin[t].seg.length-1&&!(currentItin.itin[t].seg[i+a].fnr!=currentItin.itin[t].seg[i+a+1].fnr||currentItin.itin[t].seg[i+a].layoverduration>=1440);)a++;n+=currentItin.itin[t].seg[i].orig,n+=currentItin.itin[t].seg[i].dep.year.toString()+("0"+currentItin.itin[t].seg[i].dep.month).slice(-2)+("0"+currentItin.itin[t].seg[i].dep.day).slice(-2)+("0"+currentItin.itin[t].seg[i].dep.time.replace(":","")).slice(-4),n+=currentItin.itin[t].seg[i+a].dest,n+=currentItin.itin[t].seg[i+a].arr.year.toString()+("0"+currentItin.itin[t].seg[i+a].arr.month).slice(-2)+("0"+currentItin.itin[t].seg[i+a].arr.day).slice(-2)+("0"+currentItin.itin[t].seg[i+a].arr.time.replace(":","")).slice(-4),n+=currentItin.itin[t].seg[i].bookingclass+currentItin.itin[t].seg[i].carrier+currentItin.itin[t].seg[i].fnr,n+="~",i+=a}}n=n.substring(1,n.length-1);var r=validatePaxcount({maxPaxcount:9,countInf:!0,childAsAdult:18,sepInfSeat:!1,childMinAge:2});if(!1===r)return printNotification("Error: Failed to validate Passengers in printPriceline"),!1;e+="/desktop/details/R_"+n+"_"+(r.adults+r.children.length+r.infLap)+"_USD0.00_1-1-1?num-adults="+r.adults+"&num-children="+r.children.length+"&num-infants="+r.infLap+"&num-youths=0",1==mptUserSettings.enableInlineMode?printUrlInline(e,"Priceline",""):printUrl(e,"Priceline","")}function printEtraveli(){if(!(currentItin.itin.length>2)&&(2!=currentItin.itin.length||currentItin.itin[0].orig==currentItin.itin[1].dest&&currentItin.itin[0].dest==currentItin.itin[1].orig)){var e=function(e,n){return("0"+e.day).slice(-2)+monthnumberToName(e.month)+(n?e.year.toString().slice(-2):"")},n=function(n){var t="http://"+n+"/air/";return t+=currentItin.itin[0].orig+currentItin.itin[0].dest+e(currentItin.itin[0].dep,!1),currentItin.itin.length>1&&(t+=e(currentItin.itin[1].dep,!1)),t+="/"+currentItin.numPax,t+="?selectionKey="+currentItin.itin.map(function(n){return n.seg.map(function(n){return n.carrier+n.fnr+"-"+e(n.dep,!0)+"-"+n.bookingclass}).join("_")}).join("_")},t=n("www.seat24.de"),i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=[{name:"Seat24.se",host:"www.seat24.se"},{name:"Seat24.de",host:"www.seat24.de"},{name:"Seat24.dk",host:"www.seat24.dk"},{name:"Seat24.fi",host:"www.seat24.fi"},{name:"Seat24.no",host:"www.seat24.no"},{name:"Flygvaruhuset.se",host:"www.flygvaruhuset.se"},{name:"Travelpartner.se",host:"www.travelpartner.se"},{name:"Travelpartner.fi",host:"www.travelpartner.fi"},{name:"Travelpartner.no",host:"www.travelpartner.no"},{name:"Budjet.se",host:"www.budjet.se"},{name:"Budjet.fi",host:"www.budjet.fi"},{name:"Budjet.no",host:"www.budjet.no"},{name:"Budjet.dk",host:"www.budjet.dk"},{name:"Goleif.dk",host:"www.goleif.dk"},{name:"Travelfinder.se",host:"www.travelfinder.se"},{name:"Gotogate.no",host:"www.gotogate.no"},{name:"Gotogate.at",host:"www.gotogate.at"},{name:"Gotogate.be",host:"be.gotogate.com"},{name:"Gotogate.bg",host:"bg.gotogate.com"},{name:"Gotogate.ch",host:"www.gotogate.ch"},{name:"Gotogate.cz",host:"cz.gotogate.com"},{name:"Gotogate.es",host:"www.gotogate.es"},{name:"Gotogate.fr",host:"www.gotogate.fr"},{name:"Gotogate.gr",host:"www.gotogate.gr"},{name:"Gotogate.hu",host:"hu.gotogate.com"},{name:"Gotogate.ie",host:"ie.gotogate.com"},{name:"Gotogate.it",host:"www.gotogate.it"},{name:"Gotogate.pl",host:"www.gotogate.pl"},{name:"Gotogate.pt",host:"www.gotogate.pt"},{name:"Gotogate.ro",host:"ro.gotogate.com"},{name:"Gotogate.sk",host:"www.gotogate.sk"},{name:"Gotogate.tr",host:"tr.gotogate.com"},{name:"Gotogate.com.ua",host:"www.gotogate.com.ua"},{name:"Gotogate.co.uk",host:"www.gotogate.co.uk"},{name:"Flybillet.dk",host:"www.flybillet.dk"},{name:"Travelstart.se",host:"www.travelstart.se"},{name:"Travelstart.de",host:"www.travelstart.de"},{name:"Travelstart.dk",host:"www.travelstart.dk"},{name:"Travelstart.fi",host:"www.travelstart.fi"},{name:"Travelstart.no",host:"www.travelstart.no"},{name:"Supersaver.se",host:"www.supersavertravel.se"},{name:"Supersaver.dk",host:"www.supersaver.dk"},{name:"Supersaver.fi",host:"www.supersaver.fi"},{name:"Supersaver.nl",host:"www.supersaver.nl"},{name:"Supersaver.no",host:"www.supersaver.no"},{name:"Supersaver.ru",host:"www.supersaver.ru"}].map(function(e,t){return'<a href="'+n(e.host)+'" target="_blank">'+e.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Seat24.de","",null,i):printUrl(t,"Seat24.de","",i)}}function printExpedia(){var e=validatePaxcount({maxPaxcount:9,countInf:!0,childAsAdult:18,sepInfSeat:!1,childMinAge:2});if(!1===e)return printNotification("Error: Failed to validate Passengers in printExpedia"),!1;let n=["coach","premium","business","first"],t=3,i=function(i){let a="";for(var r=0;r<currentItin.itin.length;r++){a+="&legs%5B"+r+"%5D.departureAirport="+currentItin.itin[r].orig,a+="&legs%5B"+r+"%5D.arrivalAirport="+currentItin.itin[r].dest,a+="&legs%5B"+r+"%5D.departureDate="+currentItin.itin[r].arr.year.toString()+"-"+("0"+currentItin.itin[r].dep.month).slice(-2)+"-"+("0"+currentItin.itin[r].dep.day).slice(-2);for(var s=0;s<currentItin.itin[r].seg.length;s++)a+=("&legs%5B"+r+"%5D.segments%5B"+s+"%5D="+currentItin.itin[r].seg[s].dep.year.toString()+"-"+("0"+currentItin.itin[r].seg[s].dep.month).slice(-2)+"-"+("0"+currentItin.itin[r].seg[s].dep.day).slice(-2)+"-"+n["Auto"===mptSettings.cabin?t:getForcedCabin()]+"-"+currentItin.itin[r].seg[s].orig+"-"+currentItin.itin[r].seg[s].dest+"-"+currentItin.itin[r].seg[s].carrier+"-"+currentItin.itin[r].seg[s].fnr).toLowerCase(),currentItin.itin[r].seg[s].cabin<t&&(t=currentItin.itin[r].seg[s].cabin)}let l="https://www."+i+"/Flight-Search-Details?action=dl&trip=MultipleDestination";return l+="&cabinClass="+n["Auto"===mptSettings.cabin?t:getForcedCabin()],(l+="&adults="+e.adults)+a};var a=i("expedia.com"),r=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';r+=[{name:"expedia.com",host:"expedia.com"},{name:"orbitz.com",host:"orbitz.com"},{name:"expedia.ca",host:"expedia.ca"},{name:"expedia.de",host:"expedia.de"},{name:"expedia.it",host:"expedia.it"},{name:"expedia.es",host:"expedia.es"},{name:"expedia.co.uk",host:"expedia.co.uk"},{name:"expedia.dk",host:"expedia.dk"},{name:"expedia.mx",host:"expedia.mx"},{name:"expedia.fi",host:"expedia.fi"},{name:"expedia.fr",host:"expedia.fr"},{name:"expedia.no",host:"expedia.no"},{name:"expedia.nl",host:"expedia.nl"},{name:"expedia.ch",host:"expedia.ch"},{name:"expedia.se",host:"expedia.se"},{name:"expedia.at",host:"expedia.at"},{name:"expedia.co.jp",host:"expedia.co.jp"}].map(function(e,n){return'<a href="'+i(e.host)+'" target="_blank">'+e.name+"</a>"}).join("<br/>"),r+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(a,"Expedia","",null,r):printUrl(a,"Expedia","",r)}function printHipmunk(){var e="https://www.hipmunk.com/search/flights?",n=3,t=validatePaxcount({maxPaxcount:9,countInf:!0,childAsAdult:18,sepInfSeat:!0,childMinAge:2});if(!1===t)return printNotification("Error: Failed to validate Passengers in printHipmunk"),!1;for(var i=0;i<currentItin.itin.length;i++){e+="&from"+i+"="+currentItin.itin[i].orig;for(var a=0;a<currentItin.itin[i].seg.length;a++){for(var r=0;a+r<currentItin.itin[i].seg.length-1&&!(currentItin.itin[i].seg[a+r].fnr!=currentItin.itin[i].seg[a+r+1].fnr||currentItin.itin[i].seg[a+r].layoverduration>=1440);)r++;e+=(a>0?"%20"+currentItin.itin[i].seg[a].orig+"%20":"%3A%3A")+currentItin.itin[i].seg[a].carrier+currentItin.itin[i].seg[a].fnr,currentItin.itin[i].seg[a].cabin<n&&(n=currentItin.itin[i].seg[a].cabin),a+=r}e+="&date"+i+"="+currentItin.itin[i].dep.year+"-"+(Number(currentItin.itin[i].dep.month)<=9?"0":"")+currentItin.itin[i].dep.month.toString()+"-"+(Number(currentItin.itin[i].dep.day)<=9?"0":"")+currentItin.itin[i].dep.day.toString(),e+="&to"+i+"="+currentItin.itin[i].dest}e+="&pax="+t.adults+"&cabin="+["Coach","Coach","Business","First"]["Auto"===mptSettings.cabin?n:getForcedCabin()]+"&infant_lap="+t.infLap+"&infant_seat="+t.infSeat+"&seniors=0&children="+t.children.length,1==mptUserSettings.enableInlineMode?printUrlInline(e,"Hipmunk",""):printUrl(e,"Hipmunk","")}function printMomondo(){var e=["economy","premium","business","first"],n=3,t=function(t){for(var i="https://www."+t+"/flight-search/",a=0;a<currentItin.itin.length;a++){i+=currentItin.itin[a].orig+"-"+currentItin.itin[a].dest+"/"+currentItin.itin[a].dep.year+"-"+("0"+currentItin.itin[a].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].dep.day).slice(-2)+"/";for(var r=0;r<currentItin.itin[a].seg.length;r++)currentItin.itin[a].seg[r].cabin<n&&(n=currentItin.itin[a].seg[r].cabin)}return i+=e["Auto"===mptSettings.cabin?n:getForcedCabin()]+"/",i+=currentItin.numPax+"adults"},i=t("Momondo.com"),a=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';a+=[{name:"Momondo.com",host:"Momondo.com"},{name:"Momondo.de",host:"Momondo.de"},{name:"Momondo.it",host:"Momondo.it"},{name:"Momondo.es",host:"Momondo.es"},{name:"Momondo.co.uk",host:"Momondo.co.uk"},{name:"Momondo.dk",host:"Momondo.dk"},{name:"Momondo.mx",host:"Momondo.mx"},{name:"Momondo.fi",host:"Momondo.fi"},{name:"Momondo.fr",host:"Momondo.fr"},{name:"Momondo.no",host:"Momondo.no"},{name:"Momondo.nl",host:"Momondo.nl"},{name:"Momondo.pt",host:"Momondo.pt"},{name:"Momondo.se",host:"Momondo.se"},{name:"Momondo.ru",host:"Momondo.ru"}].map(function(e,n){return'<a href="'+t(e.host)+'" target="_blank">'+e.name+"</a>"}).join("<br/>"),a+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(i,"Momondo","",null,a):printUrl(i,"Momondo","",a)}function printKayak(e){var n=function(n){for(var t="https://www."+n+"/flights",i=0,a=0;a<currentItin.itin.length;a++){1!=e&&(t+="/"+currentItin.itin[a].orig,t+="-"+currentItin.itin[a].dest,t+="/"+currentItin.itin[a].dep.year+"-"+("0"+currentItin.itin[a].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].dep.day).slice(-2),i++);for(var r=0;r<currentItin.itin[a].seg.length;r++)if(1==e){for(var s=0;r+s<currentItin.itin[a].seg.length-1&&!(currentItin.itin[a].seg[r+s].fnr!=currentItin.itin[a].seg[r+s+1].fnr||currentItin.itin[a].seg[r+s].layoverduration>=1440);)s++;t+="/"+currentItin.itin[a].seg[r].orig,t+="-"+currentItin.itin[a].seg[r+s].dest,t+="/"+currentItin.itin[a].seg[r].dep.year+"-"+("0"+currentItin.itin[a].seg[r].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].seg[r].dep.day).slice(-2),r+=s,i++}}if(currentItin.numPax>1&&(t+="/"+currentItin.numPax+"adults"),t+=getKayakCabin(),1==e)"de"==mptUserSettings.language?desc="Benutze "+i+" Segment(e)":desc="Based on "+i+" segment(s)";else{if(1==i)return!1;"de"==mptUserSettings.language?desc="Benutze "+i+" Abschnitt(e)":desc="Based on "+i+" segment(s)"}return t},t=n("Kayak.com");if(!t)return!1;var i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=[{name:"Kayak.com",host:"Kayak.com"},{name:"Kayak.de",host:"Kayak.de"},{name:"Kayak.it",host:"Kayak.it"},{name:"Kayak.es",host:"Kayak.es"},{name:"Kayak.co.uk",host:"Kayak.co.uk"},{name:"Kayak.dk",host:"Kayak.dk"},{name:"Kayak.mx",host:"Kayak.mx"},{name:"Kayak.fi",host:"Kayak.fi"},{name:"Kayak.fr",host:"Kayak.fr"},{name:"Kayak.no",host:"Kayak.no"},{name:"Kayak.nl",host:"Kayak.nl"},{name:"Kayak.pt",host:"Kayak.pt"},{name:"Kayak.se",host:"Kayak.se"},{name:"Kayak.ru",host:"Kayak.ru"}].map(function(e,t){return'<a href="'+n(e.host)+'" target="_blank">'+e.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Kayak",desc,null,i):printUrl(t,"Kayak",desc,i)}function printSkyscanner(){var e=["","premiumeconomy","business","first"],n=function(n){for(var t="http://www.skyscanner.com/transport/d",i=3,a=0;a<currentItin.itin.length;a++){t+="/"+currentItin.itin[a].orig,t+="/"+currentItin.itin[a].dep.year+"-"+("0"+currentItin.itin[a].dep.month).slice(-2)+"-"+("0"+currentItin.itin[a].dep.day).slice(-2),t+="/"+currentItin.itin[a].dest;for(var r=0;r<currentItin.itin[a].seg.length;r++)currentItin.itin[a].seg[r].cabin<i&&(i=currentItin.itin[a].seg[r].cabin);0}return t+="?adults="+currentItin.numPax+"adultsv2="+currentItin.numPax,t+="&cabinclass="+e["Auto"===mptSettings.cabin?i:getForcedCabin()],t+="&ref=day-view&market="+n},t=n("Skyscanner.com"),i=' <span class="pt-hover-container">[+]<span class="pt-hover-menu">';i+=[{name:"Skyscanner.com",market:"US"},{name:"Skyscanner.de",market:"DE"},{name:"Skyscanner.it",market:"IT"},{name:"Skyscanner.es",market:"ES"},{name:"Skyscanner.co.uk",market:"UK"},{name:"Skyscanner.dk",market:"DK"},{name:"Skyscanner.mx",market:"MX"},{name:"Skyscanner.fi",market:"FI"},{name:"Skyscanner.fr",market:"FR"},{name:"Skyscanner.no",market:"NO"},{name:"Skyscanner.nl",market:"NL"},{name:"Skyscanner.pt",market:"PT"},{name:"Skyscanner.se",market:"SE"},{name:"Skyscanner.ru",market:"RU"}].map(function(e,t){return'<a href="'+n(e.market)+'" target="_blank">'+e.name+"</a>"}).join("<br/>"),i+="</span></span>",1==mptUserSettings.enableInlineMode?printUrlInline(t,"Skyscanner","",null,i):printUrl(t,"Skyscanner","",i)}function printGCM(){for(var e="",n=0;n<currentItin.itin.length;n++)for(var t=0;t<currentItin.itin[n].seg.length;t++)e+=currentItin.itin[n].seg[t].orig+"-",t+1<currentItin.itin[n].seg.length?currentItin.itin[n].seg[t].dest!=currentItin.itin[n].seg[t+1].orig&&(e+=currentItin.itin[n].seg[t].dest+";"):e+=currentItin.itin[n].seg[t].dest+";";1==mptUserSettings.enableInlineMode?printImageInline("http://www.gcmap.com/map?MR=900&MX=182x182&PM=*&P="+e,"http://www.gcmap.com/mapui?P="+e):printUrl("http://www.gcmap.com/mapui?P="+e,"GCM","")}function getForcedCabin(){switch(mptSettings.cabin){case"Y":return 0;case"Y+":return 1;case"C":return 2;case"F":return 3;default:return 0}}function getKayakCabin(){switch(mptSettings.cabin){case"Y+":return"/premium";case"C":return"/business";case"F":return"/first";default:return"/economy"}}function bindSeatguru(){for(var e=0;e<currentItin.itin.length;e++)for(var n=0;n<currentItin.itin[e].seg.length;n++){for(var t=0;n+t<currentItin.itin[e].seg.length-1&&!(currentItin.itin[e].seg[n+t].fnr!=currentItin.itin[e].seg[n+t+1].fnr||currentItin.itin[e].seg[n+t].layoverduration>=1440);)t++;var i=findItinTarget(e+1,n+1,"plane");if(!1===i)return printNotification("Error: Could not find target in bindSeatguru"),!1;var a="http://www.seatguru.com/findseatmap/findseatmap.php?carrier="+currentItin.itin[e].seg[n].carrier+"&flightno="+currentItin.itin[e].seg[n].fnr+"&date="+("0"+currentItin.itin[e].seg[n].dep.month).slice(-2)+"%2F"+("0"+currentItin.itin[e].seg[n].dep.day).slice(-2)+"%2F"+currentItin.itin[e].seg[n].dep.year+"&to=&from="+currentItin.itin[e].seg[n].orig;i.children[0].innerHTML='<a href="'+a+'" target="_blank" style="text-decoration:none;color:black">'+i.children[0].innerHTML+"</a>",n+=t}}function bindPlanefinder(){for(var e=0;e<currentItin.itin.length;e++)for(var n=0;n<currentItin.itin[e].seg.length;n++){for(var t=0;n+t<currentItin.itin[e].seg.length-1&&!(currentItin.itin[e].seg[n+t].fnr!=currentItin.itin[e].seg[n+t+1].fnr||currentItin.itin[e].seg[n+t].layoverduration>=1440);)t++;var i=findItinTarget(e+1,n+1,"flight");if(!1===i)return printNotification("Error: Could not find target in bindPlanefinder"),!1;var a="http://www.planefinder.net/data/flight/"+currentItin.itin[e].seg[n].carrier+currentItin.itin[e].seg[n].fnr;i.children[0].innerHTML='<a href="'+a+'" target="_blank" style="text-decoration:none;color:black">'+i.children[0].innerHTML+"</a>",n+=t}}function getTimezoneData(e){for(var n=new Array,t=0;t<currentItin.itin.length;t++){for(var i=new Array,a=0;a<currentItin.itin[t].seg.length;a++){var r=new Object;r.orig=currentItin.itin[t].seg[a].orig,r.depdatetime=currentItin.itin[t].seg[a].dep.year+"-"+("0"+currentItin.itin[t].seg[a].dep.month).slice(-2)+"-"+("0"+currentItin.itin[t].seg[a].dep.day).slice(-2)+"T"+("00"+currentItin.itin[t].seg[a].dep.time).slice(-5),"full"===e&&(r.dest=currentItin.itin[t].seg[a].dest,r.arrdatetime=currentItin.itin[t].seg[a].arr.year+"-"+("0"+currentItin.itin[t].seg[a].arr.month).slice(-2)+"-"+("0"+currentItin.itin[t].seg[a].arr.day).slice(-2)+"T"+("00"+currentItin.itin[t].seg[a].arr.time).slice(-5)),i.push(r)}n.push({segs:i})}return n}function openWheretocredit(e){var n=document.getElementById("wheretocredit-container");n.style.display="inline";for(var t={ticketingCarrier:1==currentItin.carriers.length?currentItin.carriers[0]:null,baseFareUSD:currentItin.basefares+currentItin.surcharges,segments:[]},i=0;i<currentItin.itin.length;i++)for(var a=0;a<currentItin.itin[i].seg.length;a++)t.segments.push({origin:currentItin.itin[i].seg[a].orig,destination:currentItin.itin[i].seg[a].dest,departure:new Date(currentItin.itin[i].seg[a].dep.year,currentItin.itin[i].seg[a].dep.month,currentItin.itin[i].seg[a].dep.day),carrier:currentItin.itin[i].seg[a].carrier,bookingClass:currentItin.itin[i].seg[a].bookingclass,codeshare:currentItin.itin[i].seg[a].codeshare,flightNumber:currentItin.itin[i].seg[a].fnr});var r=new XMLHttpRequest;r.open("POST","https://www.wheretocredit.com/api/beta/calculate"),r.setRequestHeader("Accept","application/json;charset=UTF-8"),r.setRequestHeader("Content-Type","application/json;charset=UTF-8"),r.onreadystatechange=function(){if(4===r.readyState){var t,i,a;e.href="https://www.wheretocredit.com",e.target="_blank",e.innerHTML="Data provided by wheretocredit.com";try{t=JSON.parse(r.responseText)}catch(e){t=r.responseText}if(200===r.status&&t&&t.success&&t.value&&t.value.length&&t.value[0].success){t.value[0].value.totals.sort(function(e,n){return e.value===n.value?+(e.name>n.name)||+(e.name===n.name)-1:n.value-e.value}),i=document.createElement("div"),a=t.value[0].value.totals.map(function(e,n){return parseInt(e.value).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",")+" "+e.name+" miles"});for(var s=0;s<a.length;s++)i.appendChild(document.createTextNode(a[s])),i.appendChild(document.createElement("br"));i.removeChild(i.lastChild)}else i=t.errorMessage||t||"API quota exceeded :-/",i=document.createTextNode(i);n.style.display="block",n.innerHTML="",n.appendChild(i)}},r.send(JSON.stringify([t]))}function printWheretocredit(){var e,n='<span id="wheretocredit-container" style="display: none;">&nbsp;<img src="data:image/gif;base64,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" style="width: 1em; height: 1em;"></span>';1==mptUserSettings.enableInlineMode?(printUrlInline("javascript: void(0);","wheretocredit.com","",1,n),e=getSidebarContainer(1)):(printUrl("javascript: void(0);","wheretocredit.com","",n),e=document.getElementById("powertoolslinkcontainer"));var t=e.getElementsByTagName("a"),i=t[t.length-1];i.target="_self",i.innerHTML="Calculate miles with wheretocredit.com"}function bindWheretocredit(){for(var e=0;e<currentItin.itin.length;e++)for(var n=0;n<currentItin.itin[e].seg.length;n++){var t=findItinTarget(e+1,n+1,"cabin");if(!1===t)return printNotification("Error: Could not find target in bindWheretocredit"),!1;var i="http://www.wheretocredit.com/"+currentItin.itin[e].seg[n].carrier.toLowerCase()+"/"+currentItin.itin[e].seg[n].bookingclass.toLowerCase();t.children[0].innerHTML=t.children[0].innerHTML.replace(/<a.*?\/a>/,"("+currentItin.itin[e].seg[n].bookingclass+")").replace("("+currentItin.itin[e].seg[n].bookingclass+")",'<a href="'+i+'" target="_blank" style="text-decoration:none;color:black">('+currentItin.itin[e].seg[n].bookingclass+")</a>")}}function bindLinkClicks(){var e=0,n=(1==mptUserSettings.enableInlineMode?getSidebarContainer(1):document.getElementById("powertoolslinkcontainer")).getElementsByTagName("a");1!=mptUserSettings.enableInlineMode&&(e=n.length-1),n[e].onclick=function(){n[e].onclick=null,openWheretocredit(n[e])}}function printUrlInline(e,n,t,i,a){var r='<a href="'+e+'" target="_blank">',s=!1;void 0!==translations[mptUserSettings.language]&&void 0!==translations[mptUserSettings.language].openwith&&(r+=translations[mptUserSettings.language].openwith,s=!0),r+=!1===s?"Open with":"",printItemInline(r+=" "+n+"</a>"+(a||""),t,i)}function printItemInline(e,n,t){div=getSidebarContainer(t),div.innerHTML=div.innerHTML+'<li class="powertoolsitem">'+e+(n?"<br/><small>("+n+")</small>":"")+"</li>"}function printImageInline(e,n,t){if(div=getSidebarContainer(t).parentNode,1==mptUserSettings.enableIMGautoload)div.innerHTML=div.innerHTML+(n?'<a href="'+n+'" target="_blank" class="powertoolsitem">':"")+'<img src="'+e+'" style="margin-top:10px;"'+(n?"":' class="powertoolsitem"')+"/>"+(n?"</a>":"");else{var i=Math.random();div.innerHTML=div.innerHTML+'<div id="'+i+'" class="powertoolsitem" style="width:184px;height:100px;background-color:white;cursor:pointer;text-align:center;margin-top:10px;padding-top:84px;"><span>Click</span></div>',document.getElementById(i).onclick=function(){var t=document.createElement("div");t.setAttribute("class","powertoolsitem"),t.innerHTML=(n?'<a href="'+n+'" target="_blank">':"")+'<img src="'+e+'" style="margin-top:10px;"'+(n?"":' class="powertoolsitem"')+"/>"+(n?"</a>":""),document.getElementById(i).parentNode.replaceChild(t,document.getElementById(i))}}}function getSidebarContainer(e){return(!e||e>=4?document.getElementById("powertoolslinkinlinecontainer"):findtarget(classSettings.resultpage.mcHeader,e).nextElementSibling)||createUrlContainerInline()}function createUrlContainerInline(){var e=document.createElement("div");return e.setAttribute("class",classSettings.resultpage.mcDiv),e.innerHTML='<div class="'+classSettings.resultpage.mcHeader+'">Powertools</div><ul id="powertoolslinkinlinecontainer" class="'+classSettings.resultpage.mcLinkList+'"></ul>',findtarget(classSettings.resultpage.mcDiv,1).parentNode.appendChild(e),document.getElementById("powertoolslinkinlinecontainer")}function printUrl(e,n,t,i){null==document.getElementById("powertoolslinkcontainer")&&createUrlContainer();var a='<div style="margin:5px 0px 10px 0px"><label style="font-size:'+Number(mptUserSettings.linkFontsize)+'%;font-weight:600"><a href="'+e+'" target=_blank>',r=!1;void 0!==translations[mptUserSettings.language]&&void 0!==translations[mptUserSettings.language].use&&(a+=translations[mptUserSettings.language].use,r=!0),a+=!1===r?"Use ":"",a+=" "+n+"</a></label>"+(i||"")+(t?'<br><label style="font-size:'+(Number(mptUserSettings.linkFontsize)-15)+'%">('+t+")</label>":"")+"</div>";var s=document.getElementById("powertoolslinkcontainer");s.innerHTML=s.innerHTML+a}function createUrlContainer(){var e=document.createElement("div");e.setAttribute("id","powertoolslinkcontainer"),e.setAttribute("style","margin:15px 0px 0px 10px"),findtarget(classSettings.resultpage.htbContainer,1).parentNode.parentNode.parentNode.appendChild(e)}function printSeperator(){var e=document.getElementById("powertoolslinkcontainer")||getSidebarContainer();e&&(e.innerHTML=e.innerHTML+(mptUserSettings.enableInlineMode?'<hr class="powertoolsitem"/>':"<hr/>"))}function injectCss(){var e="",n=document.head||document.getElementsByTagName("head")[0],t=document.createElement("style");t.type="text/css",e+=".pt-hover-menu { position:absolute; padding: 8px; background-color: #FFF; border: 1px solid #808080; display:none; }",e+=".pt-hover-container:hover .pt-hover-menu { display:inline; }",t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e)),n.appendChild(t)}0===mptSettings.scriptEngine&&window.top===window.self?startScript():window.top===window.self&&(void 0!==window.addEventListener?window.addEventListener("load",startScript(),!1):void 0!==window.attachEvent?window.attachEvent("onload",startScript()):window.onload=startScript()),(async()=>{if("undefined"==typeof GM||void 0===GM.info)mptSettings.scriptEngine=0,createUsersettings();else{mptSettings.scriptEngine=1;var e=await GM.getValue("mptUserSettings","");console.log("mptSavedUserSettings: "+e),e&&(e=JSON.parse(e),mptUserSettings.timeformat=void 0===e.timeformat?mptUserSettings.timeformat:e.timeformat,mptUserSettings.language=void 0===e.language?mptUserSettings.language:e.language,mptUserSettings.enableDeviders=void 0===e.enableDeviders?mptUserSettings.enableDeviders:e.enableDeviders,mptUserSettings.enableInlineMode=void 0===e.enableInlineMode?mptUserSettings.enableInlineMode:e.enableInlineMode,mptUserSettings.enableEditormode=void 0===e.enableEditormode?mptUserSettings.enableEditormode:e.enableEditormode,mptUserSettings.enableIMGautoload=void 0===e.enableIMGautoload?mptUserSettings.enableIMGautoload:e.enableIMGautoload,mptUserSettings.enableFarerules=void 0===e.enableFarerules?mptUserSettings.enableFarerules:e.enableFarerules,mptUserSettings.enablePricebreakdown=void 0===e.enablePricebreakdown?mptUserSettings.enablePricebreakdown:e.enablePricebreakdown,mptUserSettings.enableMilesbreakdown=void 0===e.enableMilesbreakdown?mptUserSettings.enableMilesbreakdown:e.enableMilesbreakdown,mptUserSettings.enableMilesbreakdownautoload=void 0===e.enableMilesbreakdownautoload?mptUserSettings.enableMilesbreakdownautoload:e.enableMilesbreakdownautoload,mptUserSettings.enableMilesInlinemode=void 0===e.enableMilesInlinemode?mptUserSettings.enableMilesInlinemode:e.enableMilesInlinemode,mptUserSettings.linkFontsize=void 0===e.linkFontsize?mptUserSettings.linkFontsize:e.linkFontsize,mptUserSettings.enablePlanefinder=void 0===e.enablePlanefinder?mptUserSettings.enablePlanefinder:e.enablePlanefinder,mptUserSettings.enableSeatguru=void 0===e.enableSeatguru?mptUserSettings.enableSeatguru:e.enableSeatguru,mptUserSettings.enableWheretocredit=void 0===e.enableWheretocredit?mptUserSettings.enableWheretocredit:e.enableWheretocredit,mptUserSettings.acEdition=void 0===e.acEdition?mptUserSettings.acEdition:e.acEdition,mptUserSettings.aaEdition=void 0===e.aaEdition?mptUserSettings.aaEdition:e.aaEdition,mptUserSettings.aac1Edition=void 0===e.aac1Edition?mptUserSettings.aac1Edition:e.aac1Edition,mptUserSettings.aac1Currency=void 0===e.aac1Currency?mptUserSettings.aac1Currency:e.aac1Currency,mptUserSettings.afEdition=void 0===e.afEdition?mptUserSettings.afEdition:e.afEdition,mptUserSettings.azEdition=void 0===e.azEdition?mptUserSettings.azEdition:e.azEdition,mptUserSettings.baLanguage=void 0===e.baLanguage?mptUserSettings.baLanguage:e.baLanguage,mptUserSettings.baEdition=void 0===e.baEdition?mptUserSettings.baEdition:e.baEdition,mptUserSettings.czEdition=void 0===e.czEdition?mptUserSettings.czEdition:e.czEdition,mptUserSettings.dlEdition=void 0===e.dlEdition?mptUserSettings.dlEdition:e.dlEdition,mptUserSettings.ibCurrency=void 0===e.ibCurrency?mptUserSettings.ibCurrency:e.ibCurrency,mptUserSettings.ibEdition=void 0===e.ibEdition?mptUserSettings.ibEdition:e.ibEdition,mptUserSettings.klEdition=void 0===e.klEdition?mptUserSettings.klEdition:e.klEdition,mptUserSettings.laEdition=void 0===e.laEdition?mptUserSettings.laEdition:e.laEdition,mptUserSettings.laCurrency=void 0===e.laCurrency?mptUserSettings.laCurrency:e.laCurrency,mptUserSettings.lhEdition=void 0===e.lhEdition?mptUserSettings.lhEdition:e.lhEdition,mptUserSettings.lxEdition=void 0===e.lxEdition?mptUserSettings.lxEdition:e.lxEdition,mptUserSettings.qfCurrency=void 0===e.qfCurrency?mptUserSettings.qfCurrency:e.qfCurrency,mptUserSettings.qfEdition=void 0===e.qfEdition?mptUserSettings.qfEdition:e.qfEdition),createUsersettings()}})();
